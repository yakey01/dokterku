import{r as c,j as e,C as I,D as ge,U as Y,H as Ne,c as ve}from"./user-BtQ7JVYb.js";import{m as a,C as x,a as h,B as R,A as ee,b as k,c as ue,d as X,P as ae,e as P,f as J,T as be,X as te,g as je,W as Te,h as Se,i as Le,j as Ce,k as Ae,l as V,n as Z,E as fe,L as re,N as Ee,o as se,p as Q,M as Ie,q as De,D as He,r as ne,s as Pe,t as Me,u as Re,S as Je,v as Ue,w as pe,x as ie,y as le,z as de,F as oe,I as ce,G as Ke}from"./label-D6ybSaAp.js";import{A as _,C as L,M as O,T as me,a as W,P as xe,b as Fe,c as _e,S as ze,d as $e,B as ke}from"./trending-up-CeraVI7L.js";import{F as Oe}from"./file-text-B6YyJeTg.js";function he({userData:t}){var T,j,E,z,$,B;const[r,l]=c.useState(new Date),[f,u]=c.useState([]),[d,i]=c.useState(null),[o,s]=c.useState(!0),[N,w]=c.useState(null);c.useEffect(()=>{const v=setInterval(()=>{l(new Date)},1e3);return()=>clearInterval(v)},[]),c.useEffect(()=>{(async()=>{var U;try{s(!0),w(null);const K=(U=document.querySelector('meta[name="csrf-token"]'))==null?void 0:U.getAttribute("content"),M=await fetch("/dokter/api/schedules",{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":K||"",Accept:"application/json"},credentials:"same-origin"});if(!M.ok)throw new Error(`HTTP error! status: ${M.status}`);const q=await M.json();w(null);const G=q.map(C=>({id:C.id.toString(),tanggal:C.tanggal,waktu:C.waktu,lokasi:C.lokasi,jenis:C.jenis,status:C.status,shift_nama:C.shift_nama,status_jaga:C.status_jaga,keterangan:C.keterangan}));u(G);const F=G.filter(C=>C.status==="scheduled");F.length>0?i(F[0]):i(null)}catch(K){console.error("Error fetching jadwal jaga:",K),w("Gagal memuat jadwal jaga");const M=[{id:"1",tanggal:new Date(Date.now()+864e5).toISOString().split("T")[0],waktu:"07:00 - 15:00",lokasi:"IGD",jenis:"pagi",status:"scheduled",shift_nama:"Pagi",status_jaga:"Aktif"}];u(M),i(M[0])}finally{s(!1)}})()},[]);const A=v=>{switch(v){case"pagi":return"bg-gradient-to-r from-yellow-400 to-yellow-500 text-white dark:from-yellow-500 dark:to-yellow-600";case"siang":return"bg-gradient-to-r from-orange-400 to-orange-500 text-white dark:from-orange-500 dark:to-orange-600";case"malam":return"bg-gradient-to-r from-purple-400 to-purple-500 text-white dark:from-purple-500 dark:to-purple-600";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},g=v=>new Date(v).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long"}),D=v=>{switch(v){case"pagi":return"☀️";case"siang":return"🌤️";case"malam":return"🌙";default:return"⏰"}},H={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},S={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},[n,p]=c.useState(null),[m,y]=c.useState(!0);c.useEffect(()=>{(async()=>{var U,K;try{y(!0);const M=((U=document.querySelector('meta[name="csrf-token"]'))==null?void 0:U.getAttribute("content"))||"",q=((K=document.querySelector('meta[name="api-token"]'))==null?void 0:K.getAttribute("content"))||"",G={Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":M};q&&(G.Authorization=`Bearer ${q}`);const F=await fetch("/api/v2/dashboards/dokter/",{credentials:"include",headers:G});if(F.ok){const C=await F.json();C.success&&C.data&&(p(C.data),console.log("✅ Dokter Dashboard data loaded successfully"))}else console.error("Failed to fetch dokter dashboard stats:",F.status,F.statusText),F.status===401&&console.error("Authentication required. Please ensure you are logged in.")}catch(M){console.error("Error fetching dokter dashboard stats:",M)}finally{y(!1)}})()},[]);const b=n?{attendance:{current:Math.round(((T=n.performance)==null?void 0:T.attendance_rate)||0),change:5},performance:{score:((j=n.performance)==null?void 0:j.patient_satisfaction)||92,attendance_rank:(E=n.performance)==null?void 0:E.attendance_rank,total_staff:(z=n.performance)==null?void 0:z.total_staff},jaspel:{thisMonth:(($=n.stats)==null?void 0:$.jaspel_month)||0,lastMonth:142e5,change:9.2}}:{attendance:{current:0,change:0},performance:{attendance_rank:null,total_staff:0},jaspel:{thisMonth:0,lastMonth:0,change:0}};return console.log("🎯 Dokter Stats object:",{attendance_current:b.attendance.current,attendance_rate_raw:(B=n==null?void 0:n.performance)==null?void 0:B.attendance_rate,performance_data:n==null?void 0:n.performance}),e.jsxs(a.div,{variants:H,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(a.div,{variants:S,children:e.jsx(x,{className:"bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 border-0 shadow-xl card-enhanced",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(_,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Dashboard"}),e.jsxs("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:[(t==null?void 0:t.greeting)||"Selamat datang kembali",", ",(t==null?void 0:t.name)||"Dokter"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:"Waktu Sekarang"}),e.jsx("p",{className:"text-lg font-semibold text-white text-subheading-mobile",children:r.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:r.toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long"})})})]})]})})})}),e.jsx(a.div,{variants:S,children:e.jsx(x,{className:"shadow-xl border-0 bg-gradient-to-br from-white to-blue-50/50 dark:from-gray-900 dark:to-blue-950/30 backdrop-blur-sm overflow-hidden card-enhanced",children:e.jsxs(h,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(L,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-high-contrast text-subheading-mobile",children:"Jadwal Jaga Berikutnya"}),e.jsx("p",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Shift yang akan datang"})]})]}),e.jsx(R,{variant:"outline",className:"border-blue-200 dark:border-blue-700 text-blue-600 dark:text-blue-400 font-medium",children:"Segera"})]}),o?e.jsx("div",{className:"bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-800 rounded-xl p-5 animate-pulse",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-32 h-4 bg-gray-300 dark:bg-gray-600 rounded"}),e.jsx("div",{className:"w-20 h-3 bg-gray-300 dark:bg-gray-600 rounded"})]})]}),e.jsx("div",{className:"w-16 h-6 bg-gray-300 dark:bg-gray-600 rounded"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-24 h-3 bg-gray-300 dark:bg-gray-600 rounded"}),e.jsx("div",{className:"w-20 h-3 bg-gray-300 dark:bg-gray-600 rounded"})]})]})}):N?e.jsx("div",{className:"bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800 rounded-xl p-5",children:e.jsxs("div",{className:"flex items-center gap-3 text-red-700 dark:text-red-400",children:[e.jsx(ee,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Gagal memuat jadwal"}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-500",children:N})]})]})}):d?e.jsxs(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 rounded-xl p-5 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 dark:bg-white/15 rounded-full -translate-y-12 translate-x-12"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 dark:bg-white/10 rounded-full translate-y-8 -translate-x-8"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:D(d.jenis)}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-subheading-mobile",children:g(d.tanggal)}),e.jsxs("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:["Shift ",d.jenis]})]})]}),e.jsx(R,{className:`${A(d.jenis)} text-xs font-semibold`,children:d.jenis.charAt(0).toUpperCase()+d.jenis.slice(1)})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{className:"w-4 h-4 text-blue-200 dark:text-blue-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100 dark:text-blue-200",children:d.waktu})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{className:"w-4 h-4 text-blue-200 dark:text-blue-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100 dark:text-blue-200",children:d.lokasi})]})]})]})]}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[e.jsx(L,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"font-medium",children:"Tidak ada jadwal mendatang"}),e.jsx("p",{className:"text-sm",children:"Jadwal akan muncul setelah diatur admin"})]})}),e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-4",children:e.jsxs(k,{variant:"outline",className:"w-full hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-200 dark:hover:border-blue-700 group font-medium",children:[e.jsx("span",{children:"Lihat Semua Jadwal"}),e.jsx(ue,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})})}),e.jsxs(a.div,{variants:S,className:"grid grid-cols-2 gap-4",children:[e.jsx(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(h,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:e.jsx(X,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-high-contrast text-mobile-friendly",children:"Tingkat Kehadiran"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 text-heading-mobile",children:m?e.jsx("span",{className:"animate-pulse",children:"⏳"}):`${b.attendance.current}%`})]})]}),e.jsx(ae,{value:b.attendance.current,className:"h-2 mb-2"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(me,{className:"w-3 h-3 text-green-500 dark:text-green-400"}),e.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["+",b.attendance.change,"%"]}),e.jsx("span",{className:"text-medium-contrast font-medium",children:"dari bulan lalu"})]})]})}),e.jsx(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(h,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(W,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-high-contrast text-mobile-friendly",children:"Urutan Kehadiran"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 text-heading-mobile",children:m?e.jsx("span",{className:"animate-pulse",children:"⏳"}):`#${b.performance.attendance_rank||"--"}`})]})]}),e.jsx(ae,{value:b.performance.attendance_rank?Math.max(0,100-b.performance.attendance_rank/b.performance.total_staff*100):0,className:"h-2 mb-2"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(W,{className:"w-3 h-3 text-blue-500 dark:text-blue-400"}),e.jsxs("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:["dari ",m?"...":b.performance.total_staff||0]}),e.jsx("span",{className:"text-medium-contrast font-medium",children:"dokter"})]})]})})]}),e.jsx(a.div,{variants:S,children:e.jsx(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(h,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center",children:e.jsx(ge,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-high-contrast text-subheading-mobile",children:"Jaspel Bulan Ini"}),e.jsx("p",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Pendapatan layanan medis"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400 text-heading-mobile",children:["Rp ",b.jaspel.thisMonth.toLocaleString("id-ID")]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(me,{className:"w-3 h-3 text-emerald-500 dark:text-emerald-400"}),e.jsxs("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:["+",b.jaspel.change,"%"]})]})]})]}),e.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-950/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-emerald-700 dark:text-emerald-300",children:"Bulan Lalu"}),e.jsxs("span",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400",children:["Rp ",b.jaspel.lastMonth.toLocaleString("id-ID")]})]})})]})})}),e.jsx(a.div,{variants:S,children:e.jsxs(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(P,{children:e.jsxs(J,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(be,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Aksi Cepat"]})}),e.jsxs(h,{className:"space-y-3",children:[e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(k,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-200 dark:hover:border-blue-700 font-medium",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(I,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),"Check In/Out Sekarang"]})}),e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(k,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-emerald-50 dark:hover:bg-emerald-950/50 hover:border-emerald-200 dark:hover:border-emerald-700 font-medium",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center",children:e.jsx(L,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),"Lihat Jadwal Minggu Ini"]})}),e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(k,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-purple-50 dark:hover:bg-purple-950/50 hover:border-purple-200 dark:hover:border-purple-700 font-medium",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/50 rounded-full flex items-center justify-center",children:e.jsx(_,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),"Lihat Laporan Kinerja"]})})]})]})}),e.jsx(a.div,{variants:S,children:e.jsxs(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(P,{children:e.jsxs(J,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(L,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Jadwal Minggu Ini"]})}),e.jsx(h,{children:o?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-300 dark:bg-gray-600 rounded"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"w-24 h-3 bg-gray-300 dark:bg-gray-600 rounded"}),e.jsx("div",{className:"w-20 h-2 bg-gray-300 dark:bg-gray-600 rounded"})]})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("div",{className:"w-16 h-3 bg-gray-300 dark:bg-gray-600 rounded"}),e.jsx("div",{className:"w-12 h-4 bg-gray-300 dark:bg-gray-600 rounded"})]})]},v))}):N?e.jsxs("div",{className:"text-center py-6",children:[e.jsx(ee,{className:"w-8 h-8 mx-auto mb-2 text-red-500 dark:text-red-400"}),e.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-400",children:"Gagal memuat jadwal minggu ini"}),e.jsx("p",{className:"text-xs text-red-600 dark:text-red-500",children:N})]}):f.length>0?e.jsx("div",{className:"space-y-3",children:f.slice(0,3).map((v,U)=>e.jsxs(a.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:U*.1},className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-lg",children:D(v.jenis)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-high-contrast",children:g(v.tanggal)}),e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:v.waktu})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-high-contrast",children:v.lokasi}),e.jsx(R,{variant:"outline",className:`text-xs font-medium ${v.jenis==="pagi"?"border-yellow-300 dark:border-yellow-600 text-yellow-700 dark:text-yellow-400":v.jenis==="siang"?"border-orange-300 dark:border-orange-600 text-orange-700 dark:text-orange-400":"border-purple-300 dark:border-purple-600 text-purple-700 dark:text-purple-400"}`,children:v.jenis})]})]},v.id))}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(L,{className:"w-8 h-8 mx-auto mb-2 text-gray-400 dark:text-gray-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tidak ada jadwal minggu ini"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Hubungi admin untuk pengaturan jadwal"})]})})]})})]})}function Be(){const[t,r]=c.useState([]),[l,f]=c.useState(!0),[u,d]=c.useState(null);c.useEffect(()=>{(async()=>{var p;try{f(!0),d(null);const m=(p=document.querySelector('meta[name="csrf-token"]'))==null?void 0:p.getAttribute("content"),y=await fetch("/dokter/api/schedules",{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":m||"",Accept:"application/json"},credentials:"same-origin"});if(!y.ok)throw new Error(`HTTP error! status: ${y.status}`);const T=(await y.json()).map(j=>({id:j.id.toString(),tanggal:j.tanggal,waktu:j.waktu,lokasi:j.lokasi,jenis:j.jenis,status:j.status}));r(T)}catch(m){console.error("Error fetching jadwal data:",m),d("Gagal memuat data jadwal"),r([])}finally{f(!1)}})()},[]);const i=n=>{console.log("Edit schedule:",n)},o=n=>{console.log("Cancel schedule:",n),r(p=>p.map(m=>m.id===n?{...m,status:"missed"}:m))},s=n=>{switch(n){case"scheduled":return"bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-300 border-blue-200 dark:border-blue-700";case"completed":return"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700";case"missed":return"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-gray-700"}},N=n=>{switch(n){case"pagi":return"bg-gradient-to-r from-yellow-400 to-yellow-500 dark:from-yellow-500 dark:to-yellow-600 text-white";case"siang":return"bg-gradient-to-r from-orange-400 to-orange-500 dark:from-orange-500 dark:to-orange-600 text-white";case"malam":return"bg-gradient-to-r from-purple-400 to-purple-500 dark:from-purple-500 dark:to-purple-600 text-white";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}},w=n=>new Date(n).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),A={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},g={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},D=t.filter(n=>n.status==="scheduled").length,H=t.filter(n=>n.status==="completed").length,S=t.filter(n=>n.status==="missed").length;return e.jsxs(a.div,{variants:A,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(a.div,{variants:g,children:e.jsx(x,{className:"bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 border-0 shadow-xl card-enhanced",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(L,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Jadwal Jaga"}),e.jsx("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:"Kelola jadwal kerja Anda"})]})]}),e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(k,{size:"sm",className:"bg-white/20 dark:bg-white/25 hover:bg-white/30 dark:hover:bg-white/35 border-white/30 dark:border-white/40 text-white gap-2 backdrop-blur-sm transition-colors duration-300",children:[e.jsx(xe,{className:"w-4 h-4"}),"Tambah"]})})]})})})}),e.jsxs(a.div,{variants:g,className:"grid grid-cols-3 gap-3",children:[e.jsx(x,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/30 border-blue-200 dark:border-blue-700 card-enhanced",children:e.jsxs(h,{className:"p-4 text-center",children:[e.jsx(_,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:D}),e.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:"Dijadwalkan"})]})}),e.jsx(x,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950/50 dark:to-emerald-900/30 border-emerald-200 dark:border-emerald-700 card-enhanced",children:e.jsxs(h,{className:"p-4 text-center",children:[e.jsx(I,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300",children:H}),e.jsx("div",{className:"text-xs font-medium text-emerald-600 dark:text-emerald-400",children:"Selesai"})]})}),e.jsx(x,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/30 border-red-200 dark:border-red-700 card-enhanced",children:e.jsxs(h,{className:"p-4 text-center",children:[e.jsx(O,{className:"w-5 h-5 text-red-600 dark:text-red-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-red-700 dark:text-red-300",children:S}),e.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:"Terlewat"})]})})]}),e.jsx(a.div,{variants:A,className:"space-y-4",children:l?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(n=>e.jsx(a.div,{variants:g,children:e.jsx(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded w-48 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-24"})]}),e.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded w-20"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-lg"}),e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded flex-1"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-lg"}),e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded flex-1"})]})]})]})})})},n))}):u?e.jsx(a.div,{variants:g,children:e.jsx(x,{className:"shadow-lg border-0 bg-red-50 dark:bg-red-950/30 backdrop-blur-sm card-enhanced",children:e.jsxs(h,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(te,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-200 mb-2",children:"Gagal Memuat Jadwal"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:u}),e.jsx(k,{onClick:()=>window.location.reload(),variant:"outline",className:"border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-950/50",children:"Coba Lagi"})]})})}):t.length===0?e.jsx(a.div,{variants:g,children:e.jsx(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(h,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(L,{className:"w-8 h-8 text-gray-400 dark:text-gray-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Belum Ada Jadwal"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Jadwal jaga akan muncul setelah diatur oleh admin"})]})})}):t.map((n,p)=>e.jsx(a.div,{variants:g,whileHover:{scale:1.01,y:-2},transition:{duration:.2},children:e.jsx(x,{className:"shadow-lg hover:shadow-xl transition-all duration-300 border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(h,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-high-contrast",children:w(n.tanggal)}),e.jsxs("p",{className:"text-sm text-muted-foreground font-medium",children:["Shift ",n.jenis]})]}),e.jsxs(R,{className:`${s(n.status)} border`,children:[n.status==="scheduled"&&"Dijadwalkan",n.status==="completed"&&"Selesai",n.status==="missed"&&"Terlewat"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center",children:e.jsx(I,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-sm font-medium text-high-contrast",children:n.waktu}),e.jsx(R,{className:`${N(n.jenis)} text-xs font-semibold ml-auto`,children:n.jenis.charAt(0).toUpperCase()+n.jenis.slice(1)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-100 dark:bg-emerald-900/50 rounded-lg flex items-center justify-center",children:e.jsx(O,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),e.jsx("span",{className:"text-sm font-medium text-high-contrast flex-1",children:n.lokasi}),e.jsx(Fe,{className:"w-4 h-4 text-muted-foreground"})]})]}),n.status==="scheduled"&&e.jsxs(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"flex gap-3 pt-4 mt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsx(a.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:e.jsxs(k,{variant:"outline",size:"sm",onClick:()=>i(n.id),className:"w-full border-blue-200 dark:border-blue-700 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-300 dark:hover:border-blue-600 gap-2 font-medium transition-colors duration-300",children:[e.jsx(je,{className:"w-4 h-4"}),"Ubah"]})}),e.jsx(a.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:e.jsxs(k,{variant:"outline",size:"sm",onClick:()=>o(n.id),className:"w-full border-red-200 dark:border-red-700 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/50 hover:border-red-300 dark:hover:border-red-600 gap-2 font-medium transition-colors duration-300",children:[e.jsx(te,{className:"w-4 h-4"}),"Batalkan"]})})]})]})})},n.id))}),e.jsx(a.div,{variants:g,children:e.jsx(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-dashed border-2 border-blue-200 dark:border-blue-700 card-enhanced",children:e.jsx(h,{className:"p-6",children:e.jsx(a.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"text-center",children:e.jsxs(k,{variant:"ghost",className:"w-full h-16 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/50 gap-3 text-base font-medium transition-colors duration-300",children:[e.jsx(xe,{className:"w-5 h-5"}),"Tambah Jadwal Baru"]})})})})})]})}function Ge(){const[t]=c.useState([{id:"1",tanggal:"2025-01-16",jenis:"Jaga Malam",jumlah:15e4,status:"paid",keterangan:"ICU - 8 jam"},{id:"2",tanggal:"2025-01-15",jenis:"Operasi",jumlah:3e5,status:"paid",keterangan:"Bedah Umum - 4 jam"},{id:"3",tanggal:"2025-01-17",jenis:"Konsultasi",jumlah:75e3,status:"pending",keterangan:"Rawat Jalan"}]),r=t.filter(s=>s.status==="pending").reduce((s,N)=>s+N.jumlah,0),l=t.filter(s=>s.status==="paid").reduce((s,N)=>s+N.jumlah,0),f=s=>{switch(s){case"pending":return"bg-gradient-to-r from-yellow-100 to-yellow-200 dark:from-yellow-900/50 dark:to-yellow-800/50 text-yellow-800 dark:text-yellow-300 border-yellow-200 dark:border-yellow-700";case"paid":return"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700";case"rejected":return"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/50 dark:to-red-800/50 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}},u=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(s),d=s=>new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),i={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},o={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return e.jsxs(a.div,{variants:i,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(a.div,{variants:o,children:e.jsx(x,{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 dark:from-emerald-600 dark:to-emerald-700 border-0 shadow-xl card-enhanced",children:e.jsx(h,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Te,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Jaspel"}),e.jsx("p",{className:"text-emerald-100 dark:text-emerald-200 text-sm font-medium text-mobile-friendly",children:"Kelola pendapatan jasa medis"})]})]})})})})}),e.jsxs(a.div,{variants:o,className:"grid grid-cols-2 gap-4",children:[e.jsx(a.div,{whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:e.jsx(x,{className:"bg-gradient-to-br from-green-500 to-green-600 dark:from-green-600 dark:to-green-700 border-0 shadow-lg card-enhanced",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Se,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-100 dark:text-green-200 font-medium",children:"Total Dibayar"}),e.jsx("p",{className:"text-lg font-semibold",children:u(l)})]})]})})})}),e.jsx(a.div,{whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:e.jsx(x,{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 dark:from-yellow-600 dark:to-yellow-700 border-0 shadow-lg card-enhanced",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Le,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-100 dark:text-yellow-200 font-medium",children:"Pending"}),e.jsx("p",{className:"text-lg font-semibold",children:u(r)})]})]})})})})]}),e.jsx(a.div,{variants:o,children:e.jsxs(Ce,{defaultValue:"semua",className:"w-full",children:[e.jsxs(Ae,{className:"grid w-full grid-cols-3 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsx(V,{value:"semua",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-900 data-[state=active]:shadow-sm font-medium transition-colors duration-300",children:"Semua"}),e.jsx(V,{value:"pending",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-900 data-[state=active]:shadow-sm font-medium transition-colors duration-300",children:"Pending"}),e.jsx(V,{value:"paid",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-900 data-[state=active]:shadow-sm font-medium transition-colors duration-300",children:"Dibayar"})]}),e.jsx(Z,{value:"semua",className:"space-y-4 mt-4",children:e.jsx(a.div,{variants:i,className:"space-y-3",children:t.map((s,N)=>e.jsx(a.div,{variants:o,whileHover:{scale:1.01,y:-1},whileTap:{scale:.99},transition:{duration:.2},children:e.jsx(x,{className:"shadow-md hover:shadow-lg transition-all duration-300 border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(h,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-high-contrast",children:s.jenis}),e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:s.keterangan})]}),e.jsxs(R,{className:`${f(s.status)} border font-medium`,children:[s.status==="pending"&&"Pending",s.status==="paid"&&"Dibayar",s.status==="rejected"&&"Ditolak"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(L,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:d(s.tanggal)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg font-semibold text-high-contrast",children:u(s.jumlah)}),e.jsx(a.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(k,{variant:"outline",size:"sm",className:"w-8 h-8 p-0 rounded-full hover:bg-blue-50 dark:hover:bg-blue-950/50 transition-colors duration-300",children:e.jsx(fe,{className:"w-4 h-4"})})})]})]})]})})},s.id))})}),e.jsx(Z,{value:"pending",className:"space-y-4 mt-4",children:e.jsx(a.div,{variants:i,className:"space-y-3",children:t.filter(s=>s.status==="pending").map((s,N)=>e.jsx(a.div,{variants:o,whileHover:{scale:1.01,y:-1},transition:{duration:.2},children:e.jsx(x,{className:"shadow-md hover:shadow-lg transition-all duration-300 border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(h,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-high-contrast",children:s.jenis}),e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:s.keterangan})]}),e.jsx(R,{className:`${f(s.status)} font-medium`,children:"Pending"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:d(s.tanggal)})]}),e.jsx("span",{className:"text-lg font-semibold text-high-contrast",children:u(s.jumlah)})]})]})})},s.id))})}),e.jsx(Z,{value:"paid",className:"space-y-4 mt-4",children:e.jsx(a.div,{variants:i,className:"space-y-3",children:t.filter(s=>s.status==="paid").map((s,N)=>e.jsx(a.div,{variants:o,whileHover:{scale:1.01,y:-1},transition:{duration:.2},children:e.jsx(x,{className:"shadow-md hover:shadow-lg transition-all duration-300 border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(h,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-high-contrast",children:s.jenis}),e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:s.keterangan})]}),e.jsx(R,{className:`${f(s.status)} font-medium`,children:"Dibayar"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:d(s.tanggal)})]}),e.jsx("span",{className:"text-lg font-semibold text-high-contrast",children:u(s.jumlah)})]})]})})},s.id))})})]})})]})}function Xe({onLocationSelect:t,height:r="400px",defaultLat:l=-7.808758,defaultLng:f=111.962646,defaultZoom:u=15}){const d=c.useRef(null),i=c.useRef(null),o=c.useRef(null),[s,N]=c.useState(!0),[w,A]=c.useState(!1),[g,D]=c.useState({lat:l,lng:f}),[H]=c.useState(`leaflet-map-${Math.random().toString(36).substr(2,9)}`);c.useEffect(()=>{(async()=>{if(window.L){N(!1);return}if(!document.querySelector('link[href*="leaflet"]')){const m=document.createElement("link");m.rel="stylesheet",m.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",m.integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=",m.crossOrigin="",document.head.appendChild(m)}if(document.querySelector('script[src*="leaflet"]'))N(!1);else{const m=document.createElement("script");m.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",m.integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=",m.crossOrigin="",m.onload=()=>N(!1),document.head.appendChild(m)}})()},[]),c.useEffect(()=>{if(s||!o.current||d.current)return;const p=window.L;if(!p)return;const m=p.map(o.current,{center:[l,f],zoom:u,zoomControl:!0,attributionControl:!0});p.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19,subdomains:["a","b","c"]}).addTo(m);const y=p.marker([l,f],{draggable:!0}).addTo(m);return d.current=m,i.current=y,y.on("dragend",b=>{const T=b.target.getLatLng();S(T.lat,T.lng)}),m.on("click",b=>{y.setLatLng(b.latlng),S(b.latlng.lat,b.latlng.lng)}),setTimeout(()=>{n(!0)},500),()=>{d.current&&(d.current.remove(),d.current=null,i.current=null)}},[s,l,f,u]);const S=(p,m,y)=>{D({lat:p,lng:m}),t&&fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${p}&lon=${m}`).then(b=>b.json()).then(b=>{const T=b.display_name||`${p.toFixed(6)}, ${m.toFixed(6)}`;t({lat:p,lng:m,accuracy:y,address:T})}).catch(()=>{t({lat:p,lng:m,accuracy:y})})},n=(p=!1)=>{if(!navigator.geolocation){p||alert("GPS tidak didukung oleh browser Anda");return}A(!0),navigator.geolocation.getCurrentPosition(m=>{const y=m.coords.latitude,b=m.coords.longitude,T=m.coords.accuracy;d.current&&i.current&&(d.current.setView([y,b],u),i.current.setLatLng([y,b])),S(y,b,T),A(!1),p||alert(`✅ Lokasi berhasil dideteksi!
📍 ${y.toFixed(6)}, ${b.toFixed(6)}
📏 Akurasi: ${Math.round(T)} meter`)},m=>{if(A(!1),!p){let y="❌ Gagal mendeteksi lokasi GPS";switch(m.code){case 1:y="🚫 Akses lokasi ditolak oleh pengguna";break;case 2:y="📡 Sinyal GPS tidak tersedia";break;case 3:y="⏱️ Waktu deteksi GPS habis";break}alert(y)}},{enableHighAccuracy:!0,timeout:p?8e3:15e3,maximumAge:3e5})};return e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"relative border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800",children:[s&&e.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-900/80 flex items-center justify-center z-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"w-6 h-6 animate-spin text-blue-600"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Loading map..."})]})}),e.jsx("div",{ref:o,id:H,style:{height:r,width:"100%",minHeight:"300px"},className:"z-0"}),e.jsx(k,{onClick:()=>n(),disabled:w,className:"absolute top-2 left-2 z-[1000] bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-300 dark:border-gray-600 shadow-md",size:"sm",children:w?e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"w-4 h-4 mr-2 animate-spin"}),"Mencari..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Deteksi GPS"]})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{children:"Koordinat:"})]}),e.jsxs("span",{className:"font-mono font-medium text-gray-900 dark:text-gray-100",children:[g.lat.toFixed(6),", ",g.lng.toFixed(6)]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsx("p",{className:"font-medium mb-1",children:"📍 Cara Menggunakan:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-0.5 text-xs",children:[e.jsx("li",{children:"Klik pada peta untuk memilih lokasi"}),e.jsx("li",{children:"Seret marker untuk mengubah posisi"}),e.jsx("li",{children:'Gunakan tombol "Deteksi GPS" untuk lokasi saat ini'}),e.jsx("li",{children:"Scroll untuk zoom in/out"})]})]})})]})}function qe(){const[t,r]=c.useState(new Date),[l,f]=c.useState(!1),[u,d]=c.useState(null),[i,o]=c.useState("00:00:00"),[s,N]=c.useState(!1),[w,A]=c.useState(null),[g,D]=c.useState(null),[H,S]=c.useState(!0);c.useEffect(()=>{const j=setInterval(()=>{if(r(new Date),l&&u){const E=new Date,[z,$]=u.split(":");E.setHours(parseInt(z),parseInt($),0);const B=new Date().getTime()-E.getTime(),v=Math.floor(B/(1e3*60*60)),U=Math.floor(B%(1e3*60*60)/(1e3*60)),K=Math.floor(B%(1e3*60)/1e3);o(`${v.toString().padStart(2,"0")}:${U.toString().padStart(2,"0")}:${K.toString().padStart(2,"0")}`)}},1e3);return()=>clearInterval(j)},[l,u]);const n=()=>{if(H&&!w){alert("Mohon pilih lokasi presensi terlebih dahulu menggunakan peta di bawah"),N(!0);return}const j=new Date;f(!0),d(j.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})),w&&alert(`Check-in berhasil!
Lokasi: ${w.address||"Koordinat: "+w.lat+", "+w.lng}${w.accuracy?`
Akurasi GPS: `+Math.round(w.accuracy)+" meter":""}`)},p=()=>{if(H&&!g){alert("Mohon pilih lokasi check-out terlebih dahulu menggunakan peta di bawah"),N(!0);return}f(!1),d(null),o("00:00:00"),g&&alert(`Check-out berhasil!
Lokasi: ${g.address||"Koordinat: "+g.lat+", "+g.lng}${g.accuracy?`
Akurasi GPS: `+Math.round(g.accuracy)+" meter":""}`),A(null),D(null)},m=j=>{try{l?D(j):A(j)}catch{}},y=()=>t.toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),b={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},T={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return e.jsxs(a.div,{variants:b,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(a.div,{variants:T,children:e.jsx(x,{className:"bg-gradient-to-r from-purple-500 to-purple-600 dark:from-purple-600 dark:to-purple-700 border-0 shadow-xl card-enhanced",children:e.jsx(h,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(be,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Presensi"}),e.jsx("p",{className:"text-purple-100 dark:text-purple-200 text-sm font-medium",children:"Check In & Check Out"})]})]})})})})}),e.jsx(a.div,{variants:T,children:e.jsx(x,{className:"shadow-xl border-0 bg-gradient-to-br from-white to-blue-50/50 dark:from-gray-900 dark:to-purple-950/30 backdrop-blur-sm card-enhanced",children:e.jsxs(h,{className:"p-8 space-y-6",children:[e.jsxs(a.div,{className:"text-center",animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0},children:[e.jsx("div",{className:"text-5xl bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent font-bold",children:t.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),e.jsx("div",{className:"text-base text-muted-foreground font-medium mt-2",children:y()})]}),e.jsxs(a.div,{className:"flex items-center justify-center gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(O,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-lg font-semibold text-high-contrast",children:"KLINIK DOKTERKU"})]}),l&&e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center p-4 bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-800/30 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(_,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-green-700 dark:text-green-300 font-medium",children:"Jam Kerja Hari Ini"})]}),e.jsx("div",{className:"text-2xl text-green-800 dark:text-green-200 font-mono font-bold",children:i})]}),e.jsx(se,{mode:"wait",children:l?e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"space-y-4",children:[e.jsxs(a.div,{className:"flex items-center justify-center gap-2 p-4 bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-800/30 rounded-xl",animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0},children:[e.jsx(X,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),e.jsxs("span",{className:"text-green-700 dark:text-green-300 font-medium",children:["Check-in pada ",u]})]}),e.jsx(a.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(k,{onClick:p,className:"w-full bg-gradient-to-r from-red-500 to-red-600 dark:from-red-600 dark:to-red-700 hover:from-red-600 hover:to-red-700 dark:hover:from-red-700 dark:hover:to-red-800 text-white shadow-lg h-14 text-lg font-semibold transition-all duration-300",children:[e.jsx(Q,{className:"w-6 h-6 mr-3"}),"Check Out"]})})]},"checked-in"):e.jsx(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(k,{onClick:n,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 hover:from-blue-600 hover:to-blue-700 dark:hover:from-blue-700 dark:hover:to-blue-800 text-white shadow-lg h-14 text-lg font-semibold transition-all duration-300",children:[e.jsx(X,{className:"w-6 h-6 mr-3"}),"Check In"]})},"not-checked-in")})]})})}),e.jsx(a.div,{variants:T,children:e.jsxs(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(P,{children:e.jsxs(J,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(L,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Status Hari Ini"]})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/30 rounded-xl border border-blue-200 dark:border-blue-700",children:[e.jsx(I,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:l&&u||"--:--"}),e.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:"Check In"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/30 rounded-xl border border-orange-200 dark:border-orange-700",children:[e.jsx(I,{className:"w-6 h-6 text-orange-600 dark:text-orange-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-orange-700 dark:text-orange-300",children:!l&&u?t.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"--:--"}),e.jsx("div",{className:"text-xs font-medium text-orange-600 dark:text-orange-400",children:"Check Out"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/30 rounded-xl border border-green-200 dark:border-green-700",children:[e.jsx(_,{className:"w-6 h-6 text-green-600 dark:text-green-400 mx-auto mb-2"}),e.jsxs("div",{className:"text-lg font-bold text-green-700 dark:text-green-300",children:[i.split(":")[0],"h"]}),e.jsx("div",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Total Jam"})]})]})})]})}),e.jsx(a.div,{variants:T,children:e.jsxs(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(J,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(Ie,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Lokasi Presensi"]}),e.jsxs(k,{variant:"outline",size:"sm",onClick:()=>N(!s),className:"text-blue-600 border-blue-200 hover:bg-blue-50 dark:text-blue-400 dark:border-blue-700 dark:hover:bg-blue-950/50",children:[s?"Sembunyikan":"Tampilkan"," Peta"]})]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:l?"Lokasi Check-out":"Lokasi Check-in"})]}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:!l&&w||l&&g?"✓ Tersimpan":"Belum dipilih"})]}),(w&&!l||g&&l)&&e.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-950/30 rounded-lg",children:e.jsxs("div",{className:"text-xs text-green-700 dark:text-green-300 space-y-1",children:[!l&&w&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Check-in:"})," ",w.address||`${w.lat.toFixed(6)}, ${w.lng.toFixed(6)}`]}),w.accuracy&&e.jsxs("p",{children:[e.jsx("strong",{children:"Akurasi:"})," ",Math.round(w.accuracy)," meter"]})]}),l&&g&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Check-out:"})," ",g.address||`${g.lat.toFixed(6)}, ${g.lng.toFixed(6)}`]}),g.accuracy&&e.jsxs("p",{children:[e.jsx("strong",{children:"Akurasi:"})," ",Math.round(g.accuracy)," meter"]})]})]})})]}),e.jsx(se,{children:s&&e.jsx(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:e.jsx(Xe,{onLocationSelect:m,height:"400px"})})})]})]})}),e.jsx(a.div,{variants:T,children:e.jsxs(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(P,{children:e.jsx(J,{className:"text-high-contrast",children:"Aksi Cepat"})}),e.jsxs(h,{className:"space-y-3",children:[e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(k,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-200 dark:hover:border-blue-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(L,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),"Lihat Riwayat Presensi"]})}),e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(k,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-green-50 dark:hover:bg-green-950/50 hover:border-green-200 dark:hover:border-green-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:e.jsx(_,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),"Laporan Jam Kerja"]})})]})]})})]})}function We(){const t=[{id:"1",tanggal:"2025-01-17",hari:"Kamis",masuk:"07:00",keluar:"15:00",totalJam:"8 jam",status:"present",shift:"Pagi",lokasi:"Unit Kerja"},{id:"2",tanggal:"2025-01-16",hari:"Rabu",masuk:"07:15",keluar:"15:05",totalJam:"7 jam 50 menit",status:"late",shift:"Pagi",lokasi:"Dokter Jaga"},{id:"3",tanggal:"2025-01-15",hari:"Selasa",masuk:"15:00",keluar:"23:00",totalJam:"8 jam",status:"present",shift:"Siang",lokasi:"Pelayanan"},{id:"4",tanggal:"2025-01-14",hari:"Senin",masuk:"-",keluar:"-",totalJam:"0 jam",status:"absent",shift:"Pagi",lokasi:"Pendaftaran"}],r={totalHadir:18,totalTerlambat:3,totalTidakHadir:2,totalJamKerja:144,rataRataJamPerHari:8,tingkatKehadiran:78},l=o=>{switch(o){case"present":return"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700";case"late":return"bg-gradient-to-r from-yellow-100 to-yellow-200 dark:from-yellow-900/50 dark:to-yellow-800/50 text-yellow-800 dark:text-yellow-300 border-yellow-200 dark:border-yellow-700";case"absent":return"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/50 dark:to-red-800/50 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}},f=o=>{switch(o){case"present":return e.jsx(X,{className:"w-4 h-4"});case"late":return e.jsx(ne,{className:"w-4 h-4"});case"absent":return e.jsx(Q,{className:"w-4 h-4"});default:return e.jsx(I,{className:"w-4 h-4"})}},u=o=>new Date(o).toLocaleDateString("id-ID",{day:"numeric",month:"short"}),d={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},i={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return e.jsxs(a.div,{variants:d,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(a.div,{variants:i,children:e.jsx(x,{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 dark:from-indigo-600 dark:to-indigo-700 border-0 shadow-xl card-enhanced",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(De,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Laporan Presensi"}),e.jsx("p",{className:"text-indigo-100 dark:text-indigo-200 text-sm font-medium text-mobile-friendly",children:"Riwayat & analisis kehadiran"})]})]}),e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(k,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 dark:hover:bg-white/25 gap-2 backdrop-blur-sm border border-white/30 dark:border-white/40 font-medium transition-colors duration-300",children:[e.jsx(He,{className:"w-4 h-4"}),"Unduh"]})})]})})})}),e.jsx(a.div,{variants:i,children:e.jsxs(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(P,{children:e.jsxs(J,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Ringkasan Bulan Ini"]})}),e.jsxs(h,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs(a.div,{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/30 rounded-xl border border-green-200 dark:border-green-700",whileHover:{scale:1.05},transition:{duration:.2},children:[e.jsx(X,{className:"w-6 h-6 text-green-600 dark:text-green-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:r.totalHadir}),e.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Hadir"})]}),e.jsxs(a.div,{className:"text-center p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-950/50 dark:to-yellow-900/30 rounded-xl border border-yellow-200 dark:border-yellow-700",whileHover:{scale:1.05},transition:{duration:.2},children:[e.jsx(ne,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:r.totalTerlambat}),e.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Terlambat"})]}),e.jsxs(a.div,{className:"text-center p-4 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/30 rounded-xl border border-red-200 dark:border-red-700",whileHover:{scale:1.05},transition:{duration:.2},children:[e.jsx(Q,{className:"w-6 h-6 text-red-600 dark:text-red-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:r.totalTidakHadir}),e.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Tidak Hadir"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-high-contrast",children:"Tingkat Kehadiran"}),e.jsxs("span",{className:"text-lg font-bold text-high-contrast",children:[r.tingkatKehadiran,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:e.jsx(a.div,{className:"bg-gradient-to-r from-green-500 to-green-600 dark:from-green-400 dark:to-green-500 h-3 rounded-full",initial:{width:0},animate:{width:`${r.tingkatKehadiran}%`},transition:{duration:1.5,delay:.5}})})]})]})]})}),e.jsxs(a.div,{variants:i,className:"grid grid-cols-2 gap-4",children:[e.jsx(x,{className:"bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 border-0 shadow-lg card-enhanced",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(I,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-100 dark:text-blue-200 font-medium",children:"Total Jam"}),e.jsxs("p",{className:"text-xl font-semibold",children:[r.totalJamKerja,"h"]})]})]})})}),e.jsx(x,{className:"bg-gradient-to-br from-purple-500 to-purple-600 dark:from-purple-600 dark:to-purple-700 border-0 shadow-lg card-enhanced",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(_,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-100 dark:text-purple-200 font-medium",children:"Rata-rata/Hari"}),e.jsxs("p",{className:"text-xl font-semibold",children:[r.rataRataJamPerHari,"h"]})]})]})})})]}),e.jsx(a.div,{variants:i,children:e.jsxs(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(P,{children:e.jsxs(J,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(L,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Riwayat Presensi"]})}),e.jsx(h,{children:e.jsx(a.div,{variants:d,className:"space-y-3",children:t.map((o,s)=>e.jsx(a.div,{variants:i,whileHover:{scale:1.01,y:-1},transition:{duration:.2},children:e.jsx(x,{className:"border border-gray-100 dark:border-gray-700 hover:shadow-md transition-all duration-300 bg-white dark:bg-gray-800/50",children:e.jsxs(h,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-base font-semibold text-high-contrast",children:o.hari}),e.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:u(o.tanggal)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground font-medium",children:[e.jsx("span",{children:o.shift}),e.jsx("span",{children:"•"}),e.jsx("span",{children:o.lokasi})]})]}),e.jsxs(R,{className:`${l(o.status)} border flex items-center gap-1 font-medium`,children:[f(o.status),o.status==="present"&&"Hadir",o.status==="late"&&"Terlambat",o.status==="absent"&&"Tidak Hadir"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(I,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Masuk"}),e.jsx("p",{className:"font-semibold text-high-contrast",children:o.masuk})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-orange-100 dark:bg-orange-900/50 rounded-full flex items-center justify-center",children:e.jsx(I,{className:"w-3 h-3 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Keluar"}),e.jsx("p",{className:"font-semibold text-high-contrast",children:o.keluar})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:e.jsx(_,{className:"w-3 h-3 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Total"}),e.jsx("p",{className:"font-semibold text-high-contrast",children:o.totalJam})]})]})]})]})})},o.id))})})]})})]})}function Ve({userData:t}){const r={nama:(t==null?void 0:t.name)||"Dokter",email:(t==null?void 0:t.email)||"dokter@klinikdokterku.com",telefon:"+62 812-3456-7890",spesialisasi:(t==null?void 0:t.jabatan)||"Dokter Umum",rumahSakit:"KLINIK DOKTERKU",nomorSip:"SIP.123.456.789",tanggalBergabung:"2020-01-15",status:"Aktif"},l={totalJam:2040,totalJaspel:245e5,ratingKinerja:4.8,pengalamanTahun:5},f=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(o),u=o=>new Date(o).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),d={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},i={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return e.jsxs(a.div,{variants:d,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(a.div,{variants:i,children:e.jsx(x,{className:"bg-gradient-to-r from-teal-500 to-teal-600 dark:from-teal-600 dark:to-teal-700 border-0 shadow-xl card-enhanced",children:e.jsx(h,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Y,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Profil"}),e.jsx("p",{className:"text-teal-100 dark:text-teal-200 text-sm font-medium text-mobile-friendly",children:"Kelola informasi pribadi"})]})]})})})})}),e.jsx(a.div,{variants:i,children:e.jsx(x,{className:"shadow-xl border-0 bg-gradient-to-br from-white to-blue-50/50 dark:from-gray-900 dark:to-blue-950/30 backdrop-blur-sm card-enhanced",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(a.div,{className:"relative",whileHover:{scale:1.05},transition:{duration:.2},children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 text-white rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Y,{className:"w-10 h-10"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 dark:bg-green-400 border-2 border-white dark:border-gray-900 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-high-contrast text-subheading-mobile",children:r.nama}),e.jsx("p",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:r.spesialisasi}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(R,{className:"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700",children:r.status}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ze,{className:"w-4 h-4 text-yellow-500 dark:text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm text-medium-contrast font-medium",children:l.ratingKinerja})]})]})]}),e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(k,{variant:"outline",size:"sm",className:"gap-2 border-blue-200 dark:border-blue-700 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/50 font-medium",children:[e.jsx(je,{className:"w-4 h-4"}),"Edit"]})})]})})})}),e.jsx(a.div,{variants:i,children:e.jsxs(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(P,{children:e.jsxs(J,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(Pe,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Informasi Personal"]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs(a.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(Me,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:r.email})]}),e.jsxs(a.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-green-50 dark:hover:bg-green-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:e.jsx(Re,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),e.jsx("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:r.telefon})]}),e.jsxs(a.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-purple-50 dark:hover:bg-purple-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/50 rounded-full flex items-center justify-center",children:e.jsx(O,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),e.jsx("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:r.rumahSakit})]}),e.jsxs(a.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-900/50 rounded-full flex items-center justify-center",children:e.jsx(Je,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),e.jsxs("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:["SIP: ",r.nomorSip]})]}),e.jsxs(a.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-teal-50 dark:hover:bg-teal-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 dark:bg-teal-900/50 rounded-full flex items-center justify-center",children:e.jsx(L,{className:"w-4 h-4 text-teal-600 dark:text-teal-400"})}),e.jsxs("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:["Bergabung: ",u(r.tanggalBergabung)]})]})]})]})}),e.jsx(a.div,{variants:i,children:e.jsxs(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(P,{children:e.jsxs(J,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(W,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),"Statistik Karir"]})}),e.jsx(h,{children:e.jsxs(a.div,{variants:d,className:"grid grid-cols-2 gap-4",children:[e.jsxs(a.div,{variants:i,className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/30 rounded-xl border border-blue-200 dark:border-blue-700",whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:[e.jsx(I,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300 text-heading-mobile",children:l.totalJam.toLocaleString()}),e.jsx("div",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Total Jam Kerja"})]}),e.jsxs(a.div,{variants:i,className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/30 rounded-xl border border-green-200 dark:border-green-700",whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:[e.jsx(W,{className:"w-6 h-6 text-green-600 dark:text-green-400 mx-auto mb-2"}),e.jsxs("div",{className:"text-lg font-bold text-green-700 dark:text-green-300 text-heading-mobile",children:[l.ratingKinerja,"/5"]}),e.jsx("div",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Rating Kinerja"})]}),e.jsxs(a.div,{variants:i,className:"text-center p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-950/50 dark:to-yellow-900/30 rounded-xl border border-yellow-200 dark:border-yellow-700",whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:[e.jsx(L,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-yellow-700 dark:text-yellow-300 text-heading-mobile",children:l.pengalamanTahun}),e.jsx("div",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Tahun Pengalaman"})]}),e.jsxs(a.div,{variants:i,className:"text-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/30 rounded-xl border border-purple-200 dark:border-purple-700",whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:[e.jsx("span",{className:"text-2xl",children:"💰"}),e.jsx("div",{className:"text-sm font-bold text-purple-700 dark:text-purple-300 text-mobile-friendly",children:f(l.totalJaspel)}),e.jsx("div",{className:"text-xs text-medium-contrast font-medium",children:"Total Jaspel"})]})]})})]})}),e.jsx(a.div,{variants:i,children:e.jsxs(x,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(P,{children:e.jsx(J,{className:"text-high-contrast",children:"Pengaturan"})}),e.jsxs(h,{className:"space-y-3",children:[e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(k,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-200 dark:hover:border-blue-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx($e,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-high-contrast",children:"Pengaturan Akun"})]})}),e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(k,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-orange-50 dark:hover:bg-orange-950/50 hover:border-orange-200 dark:hover:border-orange-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-900/50 rounded-full flex items-center justify-center",children:e.jsx(ke,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),e.jsx("span",{className:"text-high-contrast",children:"Notifikasi"})]})}),e.jsx(Ue,{className:"my-4 bg-gray-200 dark:bg-gray-700"}),e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(k,{variant:"outline",className:"w-full justify-start gap-3 h-12 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/50 hover:border-red-200 dark:hover:border-red-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center",children:e.jsx(pe,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}),e.jsx("span",{children:"Keluar"})]})})]})]})})]})}const we=c.createContext(void 0);function Ze(){const t=c.useContext(we);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function Ye({children:t}){const[r,l]=c.useState(()=>{if(typeof window<"u"){const d=window.__DOKTERKU_THEME__;if(d&&(d==="light"||d==="dark"))return d;try{const i=localStorage.getItem("theme");if(i&&(i==="light"||i==="dark"))return i}catch{}try{if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}catch{}}return"light"});c.useEffect(()=>{const d=()=>{try{if(typeof window>"u"||typeof document>"u")return;const i=document.documentElement;i&&i.classList&&(r==="dark"?i.classList.add("dark"):i.classList.remove("dark"));try{localStorage.setItem("theme",r)}catch{}}catch{}};return document.readyState==="loading"?document.addEventListener("DOMContentLoaded",d,{once:!0}):d(),()=>{document.removeEventListener("DOMContentLoaded",d)}},[r]);const f=d=>{l(d)},u=()=>{l(r==="light"?"dark":"light")};return e.jsx(we.Provider,{value:{theme:r,toggleTheme:u,setTheme:f},children:t})}function Qe(){var T;const[t,r]=c.useState(!1),[l,f]=c.useState("dashboard"),[u,d]=c.useState(!1),[i,o]=c.useState(""),[s,N]=c.useState(""),[w,A]=c.useState(!1),[g,D]=c.useState(null),{theme:H,toggleTheme:S}=Ze();c.useEffect(()=>{const j=document.querySelector('meta[name="user-data"]');if(j)try{const E=JSON.parse(j.getAttribute("content")||"{}");D(E),E.name&&r(!0)}catch(E){console.error("Error parsing user data:",E)}},[]);const n=async j=>{var z;j.preventDefault(),A(!0);const E=((z=document.querySelector('meta[name="csrf-token"]'))==null?void 0:z.getAttribute("content"))||"";try{if((await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":E},body:JSON.stringify({email:i,password:s})})).ok)window.location.href="/dokter/mobile-app";else throw new Error("Login failed")}catch($){console.error("Login error:",$),r(!0)}finally{A(!1)}},p=()=>{r(!1),f("dashboard"),window.location.href="/login"},m=[{id:"dashboard",label:"Dashboard",icon:Ne},{id:"jadwal",label:"Jadwal",icon:L},{id:"jaspel",label:"Jaspel",icon:ge},{id:"presensi",label:"Presensi",icon:I},{id:"laporan",label:"Laporan",icon:Oe},{id:"profil",label:"Profil",icon:Y}],y=()=>{switch(l){case"dashboard":return e.jsx(he,{userData:g,onNavigate:f});case"jadwal":return e.jsx(Be,{});case"jaspel":return e.jsx(Ge,{});case"presensi":return e.jsx(qe,{});case"laporan":return e.jsx(We,{});case"profil":return e.jsx(Ve,{userData:g});default:return e.jsx(he,{userData:g,onNavigate:f})}};return((T=document.querySelector('meta[name="user-authenticated"]'))==null?void 0:T.getAttribute("content"))==="true"||t?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-950 transition-colors duration-300",children:[e.jsx("div",{className:"bg-white dark:bg-gray-900 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors duration-300",children:e.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 dark:from-blue-500 dark:to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(ie,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:"Dokterku"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Healthcare Worker"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{variant:"ghost",size:"sm",onClick:S,className:"hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300",children:H==="dark"?e.jsx(le,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}):e.jsx(de,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),e.jsxs(k,{variant:"ghost",size:"sm",className:"relative hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300",children:[e.jsx(ke,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:"3"})]}),e.jsx(k,{variant:"ghost",size:"sm",onClick:p,className:"hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300",children:e.jsx(pe,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]})]})})}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"px-4 py-6 pb-28 min-h-[calc(100vh-120px)] theme-transition",children:[e.jsx("div",{className:"space-y-6",children:y()}),e.jsx("div",{className:"h-8 safe-area-pb"})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-t border-gray-200 dark:border-gray-700 safe-area-pb shadow-lg transition-all duration-300 card-enhanced",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsx("div",{className:"flex items-center justify-around py-2",children:m.map(j=>e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2},children:e.jsxs(k,{variant:"ghost",size:"sm",onClick:()=>f(j.id),className:`flex flex-col items-center space-y-1 px-2 py-3 min-w-0 rounded-xl transition-all duration-300 ${l===j.id?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950/50 shadow-sm scale-105":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800/50"}`,children:[e.jsx(j.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium truncate text-mobile-friendly",children:j.label})]})},j.id))})})})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-blue-800 dark:from-gray-900 dark:via-gray-800 dark:to-blue-950 flex items-center justify-center p-4 transition-colors duration-300",children:e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:e.jsxs(x,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm shadow-2xl border-0 transition-colors duration-300",children:[e.jsxs(P,{className:"text-center pb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 dark:from-blue-500 dark:to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ie,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Dokterku"}),e.jsx(k,{variant:"ghost",size:"sm",onClick:S,className:"hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300",children:H==="dark"?e.jsx(le,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}):e.jsx(de,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Healthcare Worker Portal"})]}),e.jsx(h,{className:"space-y-6",children:e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(oe,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Email"}),e.jsx(ce,{id:"email",type:"email",placeholder:"Enter your email",value:i,onChange:j=>o(j.target.value),required:!0,className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 transition-colors duration-300"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(oe,{htmlFor:"password",className:"text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ce,{id:"password",type:u?"text":"password",placeholder:"Enter your password",value:s,onChange:j=>N(j.target.value),required:!0,className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 transition-colors duration-300"}),e.jsx(k,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-300",onClick:()=>d(!u),children:u?e.jsx(Ke,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"}):e.jsx(fe,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})]})]}),e.jsx(k,{type:"submit",className:"w-full",disabled:w,children:w?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Signing in..."})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"Sign In"}),e.jsx(ue,{className:"w-4 h-4"})]})})]})})]})})})}function ea(){return e.jsx(Ye,{children:e.jsx(Qe,{})})}function ye(){console.log("🚀 ULTRAFIX: Starting dokter mobile app initialization...");try{if(console.log("ULTRAFIX: document defined?",typeof document<"u"),console.log("ULTRAFIX: document.getElementById available?",typeof document.getElementById=="function"),console.log("ULTRAFIX: document.body exists?",document.body!==null),console.log("ULTRAFIX: document.body.classList available?",document.body&&document.body.classList),typeof document>"u"||!document.getElementById){console.error("ULTRAFIX: Document not ready for initialization");return}const t=document.getElementById("dokter-app"),r=document.getElementById("loading");if(console.log("ULTRAFIX: Container found?",!!t),console.log("ULTRAFIX: Loading element found?",!!r),t){try{r&&r.style&&(r.style.display="none",console.log("ULTRAFIX: Loading element hidden successfully"))}catch(l){console.log("ULTRAFIX: Loading element error (safe to ignore):",l)}try{console.log("ULTRAFIX: Creating React root..."),ve.createRoot(t).render(e.jsx(ea,{})),console.log("ULTRAFIX: React app rendered successfully! 🎉")}catch(l){console.error("ULTRAFIX: React initialization failed:",l),t&&(t.innerHTML='<div style="padding: 20px; text-align: center; background: #f0f0f0; color: #333;">⚠️ App loading failed. Please refresh and try again.</div>')}}else console.error("ULTRAFIX: Container element #dokter-app not found!")}catch(t){console.error("ULTRAFIX: App initialization completely failed:",t),console.error("ULTRAFIX: Error stack:",t.stack)}}function aa(){if(console.log("🎯 ULTIMATE+: Starting completely isolated initialization with Alpine.js protection..."),typeof window<"u"&&window.location&&!window.location.pathname.includes("/dokter/mobile-app")){console.log("ULTIMATE+: Not dokter mobile app page, skipping initialization");return}if(typeof window<"u"){if(window.__DOKTERKU_ISOLATED__=!0,window.Alpine&&typeof window.Alpine=="object"&&(console.log("🛡️ ULTIMATE+: Detected Alpine.js, implementing protection..."),window.Alpine.start&&typeof window.Alpine.start=="function")){const r=window.Alpine.start;window.Alpine.start=function(){if(window.__DOKTERKU_ISOLATED__){console.log("🛡️ ULTIMATE+: Blocked Alpine.js start on isolated page");return}return r.apply(this,arguments)}}if(document.body){document.body.classList;let r=!1;Object.defineProperty(document.body,"classList",{get:function(){return r||(r=!0,console.warn("🚨 ULTIMATE+: External script attempted to access document.body.classList - redirecting to documentElement")),document.documentElement.classList},configurable:!0})}}if(typeof document>"u"){console.error("ULTIMATE+: Document not available");return}const t=(r=1)=>{console.log(`ULTIMATE: Initialization attempt ${r}`);try{if(document.readyState==="complete"||document.readyState==="interactive"&&document.body){ye();return}r<5?setTimeout(()=>t(r+1),100*r):console.error("ULTIMATE: All initialization attempts failed")}catch(l){console.error(`ULTIMATE: Attempt ${r} failed:`,l),r<5&&setTimeout(()=>t(r+1),200*r)}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{console.log("ULTIMATE: DOM loaded, starting initialization"),t()},{once:!0}):t()}try{console.log("🚀 ULTIMATE+: Launching dokter mobile app with complete isolation and Alpine.js protection..."),aa()}catch(t){console.error("🔥 ULTIMATE+: Launch failed completely:",t),console.error("ULTIMATE+: Error stack:",t.stack),setTimeout(()=>{try{console.log("🆘 ULTIMATE+: Attempting emergency initialization with Alpine.js protection..."),typeof window<"u"&&document.body&&(window.__DOKTERKU_ISOLATED__=!0,Object.defineProperty(document.body,"classList",{get:function(){return console.warn("🚨 EMERGENCY: Redirecting document.body.classList to documentElement"),document.documentElement.classList},configurable:!0})),ye()}catch(r){console.error("🆘 ULTIMATE+: Emergency initialization also failed:",r)}},2e3)}
