import{a as x,r as l,j as e,C as g,D as v,c as N}from"./dollar-sign-vCdEEM7V.js";import{m as i,W as y,R as _,C as k,a as D}from"./wallet-BGuEPEnM.js";import{T as h}from"./trending-up-CO9fHvtZ.js";const L=x("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),C=x("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);function I(){const[s,n]=l.useState({jaspel_monthly:0,pending_jaspel:0,approved_jaspel:0,growth_percent:0,paramedis_name:"Loading...",last_month_total:0}),[p,u]=l.useState(!0),[d,o]=l.useState(!1),[c,j]=l.useState(null),r=async()=>{try{const t=await fetch("/test-paramedis-dashboard-api",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(t.ok){const m=await t.json();console.log("🌟 WORLD-CLASS Dashboard Data:",m),n(m),j(new Date)}}catch(t){console.error("❌ Failed to fetch dashboard data:",t)}finally{u(!1),o(!1)}},w=async()=>{o(!0),await r()};l.useEffect(()=>{r();const t=setInterval(r,3e4);return()=>clearInterval(t)},[]);const a=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),b=t=>t>0?"text-emerald-500":t<0?"text-red-500":"text-gray-500",f=t=>t>0?e.jsx(h,{className:"w-4 h-4"}):t<0?e.jsx(C,{className:"w-4 h-4"}):null;return p?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 via-purple-600 to-blue-800 p-8 shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}),e.jsx("span",{className:"text-white font-semibold text-lg",children:"Loading Dashboard..."})]})})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 p-8 shadow-2xl",children:[e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full -ml-12 -mb-12"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(y,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold text-xl",children:"Jaspel Dashboard"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Pendapatan layanan medis"})]})]}),e.jsx(i.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:w,disabled:d,className:"flex items-center justify-center w-10 h-10 bg-white/20 rounded-lg backdrop-blur-sm hover:bg-white/30 transition-colors",children:e.jsx(_,{className:`w-5 h-5 text-white ${d?"animate-spin":""}`})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-baseline space-x-2 mb-2",children:[e.jsxs("span",{className:"text-white/70 text-sm font-medium",children:["Jaspel ",s.period_info?new Date(s.period_info.current_year,s.period_info.current_month-1).toLocaleDateString("id-ID",{month:"long",year:"numeric"}):"Bulan Ini"]}),e.jsx(L,{className:"w-4 h-4 text-yellow-300"})]}),e.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:a(s.jaspel_monthly)}),e.jsxs("div",{className:`flex items-center space-x-2 ${b(s.growth_percent)}`,children:[f(s.growth_percent),e.jsxs("span",{className:"text-white font-semibold",children:[s.growth_percent>0?"+":"",s.growth_percent,"%"]}),e.jsx("span",{className:"text-white/70 text-sm",children:"vs bulan lalu"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs(i.div,{whileHover:{scale:1.02},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-orange-500/20 rounded-lg",children:e.jsx(g,{className:"w-4 h-4 text-orange-300"})}),e.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Pending"})]}),e.jsx("div",{className:"text-white font-bold text-lg",children:a(s.pending_jaspel)})]}),e.jsxs(i.div,{whileHover:{scale:1.02},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-emerald-500/20 rounded-lg",children:e.jsx(k,{className:"w-4 h-4 text-emerald-300"})}),e.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Disetujui"})]}),e.jsx("div",{className:"text-white font-bold text-lg",children:a(s.approved_jaspel)})]})]}),s.period_info&&e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Progress Bulan Ini"}),e.jsxs("span",{className:"text-white font-bold text-sm",children:[s.period_info.month_progress,"%"]})]}),e.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 h-2 rounded-full transition-all duration-500",style:{width:`${s.period_info.month_progress}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-white/70 mt-1",children:[e.jsxs("span",{children:["Hari ke-",s.period_info.days_passed]}),e.jsxs("span",{children:[s.period_info.days_in_month," hari total"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[e.jsx("div",{className:"text-white/70 text-xs font-medium",children:"Harian"}),e.jsx("div",{className:"text-white font-bold text-sm",children:a(s.daily_average||0)})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[e.jsx("div",{className:"text-white/70 text-xs font-medium",children:"Mingguan"}),e.jsx("div",{className:"text-white font-bold text-sm",children:a(s.jaspel_weekly||0)})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"w-4 h-4 text-white/70"}),e.jsxs("span",{className:"text-white/70 text-sm",children:["Data untuk: ",e.jsx("span",{className:"text-white font-medium",children:s.paramedis_name})]})]}),c&&e.jsxs("div",{className:"text-white/60 text-xs",children:["Update: ",c.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})]})]})})]}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-2 h-2 bg-white/30 rounded-full animate-pulse"})}),e.jsx("div",{className:"absolute bottom-4 left-4",children:e.jsx("div",{className:"w-1 h-1 bg-white/40 rounded-full animate-pulse",style:{animationDelay:"1s"}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(h,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/80 text-xs font-medium",children:"Growth Rate"}),e.jsxs("div",{className:"text-white font-bold text-lg",children:["+",s.growth_percent,"%"]})]})]})}),e.jsx(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(v,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/80 text-xs font-medium",children:"Bulan Lalu"}),e.jsx("div",{className:"text-white font-bold text-lg",children:a(s.last_month_total)})]})]})})]})]})}function R(){return e.jsx("div",{className:"space-y-6",children:e.jsx(I,{})})}document.addEventListener("DOMContentLoaded",function(){const s=document.getElementById("jaspel-dashboard-root");s&&N.createRoot(s).render(e.jsx(R,{}))});
