import{r as i,j as e,C as P,D as be,c as Se}from"./dollar-sign-vCdEEM7V.js";import{C as c,a as m,B as _,A as je,b as f,c as fe,P as re,d as H,e as K,T as pe,X as se,f as ke,g as Le,h as Ee,i as Ce,j as V,k as Y,E as we,L as ne,N as Ae,l as ie,m as Q,M as De,n as Ie,D as Pe,o as le,p as Re,q as Me,r as He,S as Je,s as _e,t as ye,u as de,v as oe,w as ce,x as me,I as xe,y as Ke}from"./label-BhP5HlEg.js";import{m as a,C as z,R as Z,W as Ue,a as Fe}from"./wallet-BGuEPEnM.js";import{A as U,C as A,M as F,a as G,P as he,b as Be,T as Oe,S as ze,c as $e,B as Ne}from"./target-BdWsDL-O.js";import{T as ue}from"./trending-up-CO9fHvtZ.js";import{U as ee,H as Ge}from"./user-BX9MSCbz.js";import{F as Xe}from"./file-text-FTIbtVfz.js";function ge({userData:r}){var N,v,h,E,J,M;const[s,l]=i.useState(new Date),[j,p]=i.useState(null),[u,d]=i.useState([]),[x,T]=i.useState(!0),[k,w]=i.useState(null),[S,b]=i.useState(!0);i.useEffect(()=>{const y=setInterval(()=>{l(new Date)},1e3),I=document.querySelector('meta[name="user-data"]');if(I)try{const R=JSON.parse(I.getAttribute("content")||"{}");p(R)}catch(R){console.error("Failed to parse user data:",R)}const B=async()=>{var R,$;try{b(!0);const q=((R=document.querySelector('meta[name="csrf-token"]'))==null?void 0:R.getAttribute("content"))||"",ae=(($=document.querySelector('meta[name="api-token"]'))==null?void 0:$.getAttribute("content"))||"",te={Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":q};ae&&(te.Authorization=`Bearer ${ae}`);const O=await fetch("/api/v2/dashboards/dokter/",{credentials:"include",headers:te});if(O.ok){const W=await O.json();W.success&&W.data&&(w(W.data),console.log("✅ Dashboard data loaded successfully"))}else console.error("Failed to fetch dashboard stats:",O.status,O.statusText),O.status===401&&console.error("Authentication required. Please ensure you are logged in.")}catch(q){console.error("Error fetching dashboard stats:",q)}finally{b(!1)}},X=async()=>{try{T(!0);const R=await fetch("/dokter/api/schedules",{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(R.ok){const $=await R.json();d($)}else console.error("Failed to fetch schedules:",R.status)}catch(R){console.error("Error fetching schedules:",R)}finally{T(!1)}};return B(),X(),()=>clearInterval(y)},[]);const D=y=>{switch(y){case"pagi":return"bg-gradient-to-r from-yellow-400 to-yellow-500 text-white dark:from-yellow-500 dark:to-yellow-600";case"siang":return"bg-gradient-to-r from-orange-400 to-orange-500 text-white dark:from-orange-500 dark:to-orange-600";case"malam":return"bg-gradient-to-r from-purple-400 to-purple-500 text-white dark:from-purple-500 dark:to-purple-600";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},L=y=>new Date(y).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long"}),C=y=>{switch(y){case"pagi":return"☀️";case"siang":return"🌤️";case"malam":return"🌙";default:return"⏰"}},n=u.length>0?u[0]:null,g={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},t={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},o=k?{attendance:{current:Math.round(((N=k.performance)==null?void 0:N.attendance_rate)||0),change:5},performance:{score:((v=k.performance)==null?void 0:v.patient_satisfaction)||92,attendance_rank:(h=k.performance)==null?void 0:h.attendance_rank,total_staff:(E=k.performance)==null?void 0:E.total_staff},jaspel:{thisMonth:((J=k.stats)==null?void 0:J.jaspel_month)||0,lastMonth:142e5,change:9.2}}:{attendance:{current:0,change:0},performance:{attendance_rank:null,total_staff:0},jaspel:{thisMonth:0,lastMonth:0,change:0}};return console.log("🎯 Stats object:",{attendance_current:o.attendance.current,attendance_rate_raw:(M=k==null?void 0:k.performance)==null?void 0:M.attendance_rate,performance_data:k==null?void 0:k.performance}),e.jsxs(a.div,{variants:g,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(a.div,{variants:t,children:e.jsx(c,{className:"bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 border-0 shadow-xl card-enhanced",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(U,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Dashboard"}),e.jsxs("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:[(r==null?void 0:r.greeting)||(j==null?void 0:j.greeting)||"Selamat datang kembali",", ",(r==null?void 0:r.name)||(j==null?void 0:j.name)||"Dokter"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:"Waktu Sekarang"}),e.jsx("p",{className:"text-lg font-semibold text-white text-subheading-mobile",children:s.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:s.toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long"})})})]})]})})})}),e.jsx(a.div,{variants:t,children:e.jsx(c,{className:"shadow-xl border-0 bg-gradient-to-br from-white to-blue-50/50 dark:from-gray-900 dark:to-blue-950/30 backdrop-blur-sm overflow-hidden card-enhanced",children:e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-high-contrast text-subheading-mobile",children:"Jadwal Jaga Berikutnya"}),e.jsx("p",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Shift yang akan datang"})]})]}),e.jsx(_,{variant:"outline",className:"border-blue-200 dark:border-blue-700 text-blue-600 dark:text-blue-400 font-medium",children:"Segera"})]}),x?e.jsx(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-r from-gray-400 to-gray-500 dark:from-gray-600 dark:to-gray-700 rounded-xl p-5 text-white relative overflow-hidden",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Memuat jadwal..."})]})}):n?e.jsxs(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 rounded-xl p-5 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 dark:bg-white/15 rounded-full -translate-y-12 translate-x-12"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 dark:bg-white/10 rounded-full translate-y-8 -translate-x-8"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:C(n.jenis)}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-subheading-mobile",children:L(n.tanggal)}),e.jsxs("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:["Shift ",n.jenis]})]})]}),e.jsx(_,{className:`${D(n.jenis)} text-xs font-semibold`,children:n.jenis.charAt(0).toUpperCase()+n.jenis.slice(1)})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(P,{className:"w-4 h-4 text-blue-200 dark:text-blue-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100 dark:text-blue-200",children:n.waktu})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{className:"w-4 h-4 text-blue-200 dark:text-blue-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100 dark:text-blue-200",children:n.lokasi})]})]})]})]}):e.jsx(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-r from-amber-400 to-amber-500 dark:from-amber-500 dark:to-amber-600 rounded-xl p-5 text-white relative overflow-hidden",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(je,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium",children:"Tidak ada jadwal jaga"}),e.jsx("p",{className:"text-sm text-amber-100 dark:text-amber-200",children:"Hubungi admin untuk penjadwalan"})]})]})}),e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-4",children:e.jsxs(f,{variant:"outline",className:"w-full hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-200 dark:hover:border-blue-700 group font-medium",children:[e.jsx("span",{children:"Lihat Semua Jadwal"}),e.jsx(fe,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})})}),e.jsxs(a.div,{variants:t,className:"grid grid-cols-2 gap-4",children:[e.jsx(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(m,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:e.jsx(z,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-high-contrast text-mobile-friendly",children:"Tingkat Kehadiran"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 text-heading-mobile",children:S?e.jsx("span",{className:"animate-pulse",children:"⏳"}):`${o.attendance.current}%`})]})]}),e.jsx(re,{value:o.attendance.current,className:"h-2 mb-2"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(ue,{className:"w-3 h-3 text-green-500 dark:text-green-400"}),e.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["+",o.attendance.change,"%"]}),e.jsx("span",{className:"text-medium-contrast font-medium",children:"dari bulan lalu"})]})]})}),e.jsx(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(m,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(G,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-high-contrast text-mobile-friendly",children:"Urutan Kehadiran"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 text-heading-mobile",children:S?e.jsx("span",{className:"animate-pulse",children:"⏳"}):`#${o.performance.attendance_rank||"--"}`})]})]}),e.jsx(re,{value:o.performance.attendance_rank?Math.max(0,100-o.performance.attendance_rank/o.performance.total_staff*100):0,className:"h-2 mb-2"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(G,{className:"w-3 h-3 text-blue-500 dark:text-blue-400"}),e.jsxs("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:["dari ",S?"...":o.performance.total_staff||0]}),e.jsx("span",{className:"text-medium-contrast font-medium",children:"dokter"})]})]})})]}),e.jsx(a.div,{variants:t,children:e.jsx(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center",children:e.jsx(be,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-high-contrast text-subheading-mobile",children:"Jaspel Bulan Ini"}),e.jsx("p",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Pendapatan layanan medis"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400 text-heading-mobile",children:["Rp ",o.jaspel.thisMonth.toLocaleString("id-ID")]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(ue,{className:"w-3 h-3 text-emerald-500 dark:text-emerald-400"}),e.jsxs("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:["+",o.jaspel.change,"%"]})]})]})]}),e.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-950/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-emerald-700 dark:text-emerald-300",children:"Bulan Lalu"}),e.jsxs("span",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400",children:["Rp ",o.jaspel.lastMonth.toLocaleString("id-ID")]})]})})]})})}),e.jsx(a.div,{variants:t,children:e.jsxs(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(H,{children:e.jsxs(K,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(pe,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Aksi Cepat"]})}),e.jsxs(m,{className:"space-y-3",children:[e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(f,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-200 dark:hover:border-blue-700 font-medium",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(P,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),"Check In/Out Sekarang"]})}),e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(f,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-emerald-50 dark:hover:bg-emerald-950/50 hover:border-emerald-200 dark:hover:border-emerald-700 font-medium",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center",children:e.jsx(A,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),"Lihat Jadwal Minggu Ini"]})}),e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(f,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-purple-50 dark:hover:bg-purple-950/50 hover:border-purple-200 dark:hover:border-purple-700 font-medium",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/50 rounded-full flex items-center justify-center",children:e.jsx(U,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),"Lihat Laporan Kinerja"]})})]})]})}),e.jsx(a.div,{variants:t,children:e.jsxs(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(H,{children:e.jsxs(K,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Jadwal Minggu Ini"]})}),e.jsx(m,{children:x?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mr-3"}),e.jsx("span",{className:"text-sm text-medium-contrast",children:"Memuat jadwal..."})]}):u.length===0?e.jsxs(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center py-12",children:[e.jsxs(a.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.4},className:"relative mb-6",children:[e.jsxs("div",{className:"relative inline-flex items-center justify-center w-24 h-24 mx-auto mb-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 rounded-full opacity-20 animate-pulse"}),e.jsx("div",{className:"relative bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/50 dark:to-orange-800/50 rounded-full p-6 border border-orange-200 dark:border-orange-700/50",children:e.jsx(A,{className:"w-8 h-8 text-orange-600 dark:text-orange-400"})})]}),e.jsx("div",{className:"text-4xl mb-2",children:"🏥"})]}),e.jsxs(a.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.4},className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-800 dark:text-orange-200",children:"Belum Ada Jadwal Jaga"}),e.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-300 max-w-xs mx-auto leading-relaxed",children:"Jadwal jaga akan muncul setelah diatur oleh admin atau manajer"})]}),e.jsx(a.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.4},className:"mt-6",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-100 dark:bg-orange-900/50 rounded-full border border-orange-200 dark:border-orange-700",children:[e.jsx(P,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),e.jsx("span",{className:"text-sm font-medium text-orange-700 dark:text-orange-300",children:"Menunggu Penjadwalan"})]})})]}):e.jsx("div",{className:"space-y-3",children:u.slice(0,3).map((y,I)=>e.jsxs(a.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:I*.1},className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-lg",children:C(y.jenis)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-high-contrast",children:L(y.tanggal)}),e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:y.waktu})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-high-contrast",children:y.lokasi}),e.jsx(_,{variant:"outline",className:`text-xs font-medium ${y.jenis==="pagi"?"border-yellow-300 dark:border-yellow-600 text-yellow-700 dark:text-yellow-400":y.jenis==="siang"?"border-orange-300 dark:border-orange-600 text-orange-700 dark:text-orange-400":"border-purple-300 dark:border-purple-600 text-purple-700 dark:text-purple-400"}`,children:y.jenis})]})]},y.id))})})]})})]})}function qe(){const[r,s]=i.useState([]),[l,j]=i.useState(!0),[p,u]=i.useState(null);i.useEffect(()=>{(async()=>{var g;try{j(!0),u(null);const t=(g=document.querySelector('meta[name="csrf-token"]'))==null?void 0:g.getAttribute("content"),o=await fetch("/dokter/api/schedules",{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t||"",Accept:"application/json"},credentials:"same-origin"});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const v=(await o.json()).map(h=>({id:h.id.toString(),tanggal:h.tanggal,waktu:h.waktu,lokasi:h.lokasi,jenis:h.jenis,status:h.status}));s(v)}catch(t){console.error("Error fetching jadwal data:",t),u("Gagal memuat data jadwal"),s([])}finally{j(!1)}})()},[]);const d=n=>{console.log("Edit schedule:",n)},x=n=>{console.log("Cancel schedule:",n),s(g=>g.map(t=>t.id===n?{...t,status:"missed"}:t))},T=n=>{switch(n){case"scheduled":return"bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-300 border-blue-200 dark:border-blue-700";case"completed":return"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700";case"missed":return"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-gray-700"}},k=n=>{switch(n){case"pagi":return"bg-gradient-to-r from-yellow-400 to-yellow-500 dark:from-yellow-500 dark:to-yellow-600 text-white";case"siang":return"bg-gradient-to-r from-orange-400 to-orange-500 dark:from-orange-500 dark:to-orange-600 text-white";case"malam":return"bg-gradient-to-r from-purple-400 to-purple-500 dark:from-purple-500 dark:to-purple-600 text-white";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}},w=n=>new Date(n).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),S={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},b={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},D=r.filter(n=>n.status==="scheduled").length,L=r.filter(n=>n.status==="completed").length,C=r.filter(n=>n.status==="missed").length;return e.jsxs(a.div,{variants:S,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(a.div,{variants:b,children:e.jsx(c,{className:"bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 border-0 shadow-xl card-enhanced",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(A,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Jadwal Jaga"}),e.jsx("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:"Kelola jadwal kerja Anda"})]})]}),e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(f,{size:"sm",className:"bg-white/20 dark:bg-white/25 hover:bg-white/30 dark:hover:bg-white/35 border-white/30 dark:border-white/40 text-white gap-2 backdrop-blur-sm transition-colors duration-300",children:[e.jsx(he,{className:"w-4 h-4"}),"Tambah"]})})]})})})}),e.jsxs(a.div,{variants:b,className:"grid grid-cols-3 gap-3",children:[e.jsx(c,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/30 border-blue-200 dark:border-blue-700 card-enhanced",children:e.jsxs(m,{className:"p-4 text-center",children:[e.jsx(U,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:D}),e.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:"Dijadwalkan"})]})}),e.jsx(c,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950/50 dark:to-emerald-900/30 border-emerald-200 dark:border-emerald-700 card-enhanced",children:e.jsxs(m,{className:"p-4 text-center",children:[e.jsx(P,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300",children:L}),e.jsx("div",{className:"text-xs font-medium text-emerald-600 dark:text-emerald-400",children:"Selesai"})]})}),e.jsx(c,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/30 border-red-200 dark:border-red-700 card-enhanced",children:e.jsxs(m,{className:"p-4 text-center",children:[e.jsx(F,{className:"w-5 h-5 text-red-600 dark:text-red-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-red-700 dark:text-red-300",children:C}),e.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:"Terlewat"})]})})]}),e.jsx(a.div,{variants:S,className:"space-y-4",children:l?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(n=>e.jsx(a.div,{variants:b,children:e.jsx(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded w-48 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-24"})]}),e.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded w-20"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-lg"}),e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded flex-1"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-lg"}),e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded flex-1"})]})]})]})})})},n))}):p?e.jsx(a.div,{variants:b,children:e.jsx(c,{className:"shadow-lg border-0 bg-red-50 dark:bg-red-950/30 backdrop-blur-sm card-enhanced",children:e.jsxs(m,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(se,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-200 mb-2",children:"Gagal Memuat Jadwal"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:p}),e.jsx(f,{onClick:()=>window.location.reload(),variant:"outline",className:"border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-950/50",children:"Coba Lagi"})]})})}):r.length===0?e.jsx(a.div,{variants:b,children:e.jsx(c,{className:"shadow-lg border-0 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/30 backdrop-blur-sm border-2 border-orange-200 dark:border-orange-700 card-enhanced",children:e.jsxs(m,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-orange-500 dark:from-orange-500 dark:to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(A,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-orange-800 dark:text-orange-200 mb-2",children:"Belum Ada Jadwal Jaga"}),e.jsx("p",{className:"text-orange-600 dark:text-orange-300 mb-4",children:"Jadwal jaga akan muncul setelah diatur oleh admin atau manajer"}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-100 dark:bg-orange-900/50 rounded-full border border-orange-200 dark:border-orange-700",children:[e.jsx(P,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),e.jsx("span",{className:"text-sm font-medium text-orange-700 dark:text-orange-300",children:"Menunggu Penjadwalan"})]})]})})}):r.map((n,g)=>e.jsx(a.div,{variants:b,whileHover:{scale:1.01,y:-2},transition:{duration:.2},children:e.jsx(c,{className:"shadow-lg hover:shadow-xl transition-all duration-300 border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-high-contrast",children:w(n.tanggal)}),e.jsxs("p",{className:"text-sm text-muted-foreground font-medium",children:["Shift ",n.jenis]})]}),e.jsxs(_,{className:`${T(n.status)} border`,children:[n.status==="scheduled"&&"Dijadwalkan",n.status==="completed"&&"Selesai",n.status==="missed"&&"Terlewat"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center",children:e.jsx(P,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-sm font-medium text-high-contrast",children:n.waktu}),e.jsx(_,{className:`${k(n.jenis)} text-xs font-semibold ml-auto`,children:n.jenis.charAt(0).toUpperCase()+n.jenis.slice(1)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-100 dark:bg-emerald-900/50 rounded-lg flex items-center justify-center",children:e.jsx(F,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),e.jsx("span",{className:"text-sm font-medium text-high-contrast flex-1",children:n.lokasi}),e.jsx(Be,{className:"w-4 h-4 text-muted-foreground"})]})]}),n.status==="scheduled"&&e.jsxs(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"flex gap-3 pt-4 mt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsx(a.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>d(n.id),className:"w-full border-blue-200 dark:border-blue-700 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-300 dark:hover:border-blue-600 gap-2 font-medium transition-colors duration-300",children:[e.jsx(ke,{className:"w-4 h-4"}),"Ubah"]})}),e.jsx(a.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>x(n.id),className:"w-full border-red-200 dark:border-red-700 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/50 hover:border-red-300 dark:hover:border-red-600 gap-2 font-medium transition-colors duration-300",children:[e.jsx(se,{className:"w-4 h-4"}),"Batalkan"]})})]})]})})},n.id))}),e.jsx(a.div,{variants:b,children:e.jsx(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-dashed border-2 border-blue-200 dark:border-blue-700 card-enhanced",children:e.jsx(m,{className:"p-6",children:e.jsx(a.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"text-center",children:e.jsxs(f,{variant:"ghost",className:"w-full h-16 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/50 gap-3 text-base font-medium transition-colors duration-300",children:[e.jsx(he,{className:"w-5 h-5"}),"Tambah Jadwal Baru"]})})})})})]})}function We(){const[r,s]=i.useState([]),[l,j]=i.useState({total_paid:0,total_pending:0,total_rejected:0,count_paid:0,count_pending:0,count_rejected:0}),[p,u]=i.useState(!0),[d,x]=i.useState(null),[T]=i.useState(new Date().getMonth()+1),[k]=i.useState(new Date().getFullYear()),w=async(t,o)=>{var N,v;console.log("🔍 [DOKTER JASPEL DEBUG] Starting fetchJaspelData...",{month:t,year:o}),u(!0),x(null);try{const h=localStorage.getItem("token")||sessionStorage.getItem("token")||((N=document.querySelector('meta[name="api-token"]'))==null?void 0:N.getAttribute("content"));console.log("🔑 [DOKTER JASPEL DEBUG] Token found:",!!h,h?h.substring(0,10)+"...":"null");const E=new URLSearchParams;t&&E.append("month",t.toString()),o&&E.append("year",o.toString());const J=`/api/v2/dashboards/dokter/jaspel?${E}`;console.log("📡 [DOKTER JASPEL DEBUG] Calling API:",J);const M={"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"};h&&(M.Authorization=`Bearer ${h}`),console.log("📋 [DOKTER JASPEL DEBUG] Request headers:",M);const y=await fetch(J,{method:"GET",headers:M,credentials:"include"});if(console.log("📊 [DOKTER JASPEL DEBUG] Response status:",y.status),!y.ok){const B=await y.text();throw console.error("❌ [DOKTER JASPEL DEBUG] API Error:",y.status,B),new Error(`API Error: ${y.status} - ${B}`)}const I=await y.json();if(console.log("✅ [DOKTER JASPEL DEBUG] API Success:",I),I.success)s(I.data.jaspel_items||[]),j(I.data.summary||{total_paid:0,total_pending:0,total_rejected:0,count_paid:0,count_pending:0,count_rejected:0}),console.log("💾 [DOKTER JASPEL DEBUG] Data updated:",{items:((v=I.data.jaspel_items)==null?void 0:v.length)||0,summary:I.data.summary});else throw new Error(I.message||"Unknown API error")}catch(h){console.error("💥 [DOKTER JASPEL DEBUG] Fetch error:",h),x(h instanceof Error?h.message:"Gagal memuat data jaspel"),s([]),j({total_paid:0,total_pending:0,total_rejected:0,count_paid:0,count_pending:0,count_rejected:0})}finally{u(!1)}};i.useEffect(()=>{console.log("🚀 [DOKTER JASPEL DEBUG] Component mounted, fetching data..."),w(T,k)},[T,k]);const S=l.total_pending,b=l.total_paid,D=t=>{switch(t){case"pending":return"bg-gradient-to-r from-yellow-100 to-yellow-200 dark:from-yellow-900/50 dark:to-yellow-800/50 text-yellow-800 dark:text-yellow-300 border-yellow-200 dark:border-yellow-700";case"paid":return"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700";case"rejected":return"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/50 dark:to-red-800/50 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}},L=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),C=t=>new Date(t).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),n={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},g={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return p?e.jsxs("div",{className:"space-y-6 theme-transition",children:[e.jsx(c,{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 dark:from-emerald-600 dark:to-emerald-700 border-0 shadow-xl card-enhanced",children:e.jsx(m,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Z,{className:"w-6 h-6 animate-spin"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Jaspel"}),e.jsx("p",{className:"text-emerald-100 dark:text-emerald-200 text-sm font-medium text-mobile-friendly",children:"Memuat data jaspel..."})]})]})})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(c,{className:"animate-pulse",children:e.jsx(m,{className:"p-4 h-20 bg-gray-200 dark:bg-gray-700"})}),e.jsx(c,{className:"animate-pulse",children:e.jsx(m,{className:"p-4 h-20 bg-gray-200 dark:bg-gray-700"})})]})]}):d?e.jsx("div",{className:"space-y-6 theme-transition",children:e.jsx(c,{className:"bg-gradient-to-r from-red-500 to-red-600 dark:from-red-600 dark:to-red-700 border-0 shadow-xl card-enhanced",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(je,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Jaspel"}),e.jsxs("p",{className:"text-red-100 dark:text-red-200 text-sm font-medium text-mobile-friendly",children:["Error: ",d]})]})]}),e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>w(T,k),className:"bg-white/20 border-white/30 text-white hover:bg-white/30",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Coba Lagi"]})]})})})}):e.jsxs(a.div,{variants:n,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(a.div,{variants:g,children:e.jsx(c,{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 dark:from-emerald-600 dark:to-emerald-700 border-0 shadow-xl card-enhanced",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Ue,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Jaspel"}),e.jsx("p",{className:"text-emerald-100 dark:text-emerald-200 text-sm font-medium text-mobile-friendly",children:"Kelola pendapatan jasa medis"})]})]}),e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>w(T,k),className:"bg-white/20 border-white/30 text-white hover:bg-white/30",disabled:p,children:[e.jsx(Z,{className:`w-4 h-4 mr-2 ${p?"animate-spin":""}`}),"Refresh"]})]})})})}),e.jsxs(a.div,{variants:g,className:"grid grid-cols-2 gap-4",children:[e.jsx(a.div,{whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:e.jsx(c,{className:"bg-gradient-to-br from-green-500 to-green-600 dark:from-green-600 dark:to-green-700 border-0 shadow-lg card-enhanced",children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Fe,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-100 dark:text-green-200 font-medium",children:"Total Dibayar"}),e.jsx("p",{className:"text-lg font-semibold",children:L(b)})]})]})})})}),e.jsx(a.div,{whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:e.jsx(c,{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 dark:from-yellow-600 dark:to-yellow-700 border-0 shadow-lg card-enhanced",children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Le,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-100 dark:text-yellow-200 font-medium",children:"Pending"}),e.jsx("p",{className:"text-lg font-semibold",children:L(S)})]})]})})})})]}),r.length===0&&e.jsx(a.div,{variants:g,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"space-y-6",children:e.jsx(a.div,{className:"relative overflow-hidden rounded-xl bg-gradient-to-r from-pink-400 to-rose-500 p-6 shadow-lg",whileHover:{scale:1.01,boxShadow:"0 8px 25px -8px rgba(244, 114, 182, 0.4)"},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-xl",children:"⚠️"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-white font-semibold text-base mb-2",children:"Belum ada data Jaspel"}),e.jsx("p",{className:"text-pink-50 text-sm leading-relaxed",children:"Data muncul setelah divalidasi bendahara"})]})]})})}),r.length>0&&e.jsx(a.div,{variants:g,children:e.jsxs(Ee,{defaultValue:"semua",className:"w-full",children:[e.jsxs(Ce,{className:"grid w-full grid-cols-3 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsx(V,{value:"semua",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-900 data-[state=active]:shadow-sm font-medium transition-colors duration-300",children:"Semua"}),e.jsx(V,{value:"pending",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-900 data-[state=active]:shadow-sm font-medium transition-colors duration-300",children:"Pending"}),e.jsx(V,{value:"paid",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-900 data-[state=active]:shadow-sm font-medium transition-colors duration-300",children:"Dibayar"})]}),e.jsx(Y,{value:"semua",className:"space-y-4 mt-4",children:e.jsx(a.div,{variants:n,className:"space-y-3",children:r.map((t,o)=>e.jsx(a.div,{variants:g,whileHover:{scale:1.01,y:-1},whileTap:{scale:.99},transition:{duration:.2},children:e.jsx(c,{className:"shadow-md hover:shadow-lg transition-all duration-300 border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-high-contrast",children:t.jenis}),e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:t.keterangan})]}),e.jsxs(_,{className:`${D(t.status)} border font-medium`,children:[t.status==="pending"&&"Pending",t.status==="paid"&&"Dibayar",t.status==="rejected"&&"Ditolak"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(A,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:C(t.tanggal)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg font-semibold text-high-contrast",children:L(t.jumlah)}),e.jsx(a.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(f,{variant:"outline",size:"sm",className:"w-8 h-8 p-0 rounded-full hover:bg-blue-50 dark:hover:bg-blue-950/50 transition-colors duration-300",children:e.jsx(we,{className:"w-4 h-4"})})})]})]})]})})},t.id))})}),e.jsx(Y,{value:"pending",className:"space-y-4 mt-4",children:e.jsx(a.div,{variants:n,className:"space-y-3",children:r.filter(t=>t.status==="pending").map((t,o)=>e.jsx(a.div,{variants:g,whileHover:{scale:1.01,y:-1},transition:{duration:.2},children:e.jsx(c,{className:"shadow-md hover:shadow-lg transition-all duration-300 border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-high-contrast",children:t.jenis}),e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:t.keterangan})]}),e.jsx(_,{className:`${D(t.status)} font-medium`,children:"Pending"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:C(t.tanggal)})]}),e.jsx("span",{className:"text-lg font-semibold text-high-contrast",children:L(t.jumlah)})]})]})})},t.id))})}),e.jsx(Y,{value:"paid",className:"space-y-4 mt-4",children:e.jsx(a.div,{variants:n,className:"space-y-3",children:r.filter(t=>t.status==="paid").map((t,o)=>e.jsx(a.div,{variants:g,whileHover:{scale:1.01,y:-1},transition:{duration:.2},children:e.jsx(c,{className:"shadow-md hover:shadow-lg transition-all duration-300 border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-high-contrast",children:t.jenis}),e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:t.keterangan})]}),e.jsx(_,{className:`${D(t.status)} font-medium`,children:"Dibayar"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:C(t.tanggal)})]}),e.jsx("span",{className:"text-lg font-semibold text-high-contrast",children:L(t.jumlah)})]})]})})},t.id))})})]})})]})}function Ve({onLocationSelect:r,height:s="400px",defaultLat:l=-7.808758,defaultLng:j=111.962646,defaultZoom:p=15}){const u=i.useRef(null),d=i.useRef(null),x=i.useRef(null),[T,k]=i.useState(!0),[w,S]=i.useState(!1),[b,D]=i.useState({lat:l,lng:j}),[L]=i.useState(`leaflet-map-${Math.random().toString(36).substr(2,9)}`);i.useEffect(()=>{(async()=>{if(window.L){k(!1);return}if(!document.querySelector('link[href*="leaflet"]')){const t=document.createElement("link");t.rel="stylesheet",t.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",t.integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=",t.crossOrigin="",document.head.appendChild(t)}if(document.querySelector('script[src*="leaflet"]'))k(!1);else{const t=document.createElement("script");t.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",t.integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=",t.crossOrigin="",t.onload=()=>k(!1),document.head.appendChild(t)}})()},[]),i.useEffect(()=>{if(T||!x.current||u.current)return;const g=window.L;if(!g)return;const t=g.map(x.current,{center:[l,j],zoom:p,zoomControl:!0,attributionControl:!0});g.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19,subdomains:["a","b","c"]}).addTo(t);const o=g.marker([l,j],{draggable:!0}).addTo(t);return u.current=t,d.current=o,o.on("dragend",N=>{const v=N.target.getLatLng();C(v.lat,v.lng)}),t.on("click",N=>{o.setLatLng(N.latlng),C(N.latlng.lat,N.latlng.lng)}),setTimeout(()=>{n(!0)},500),()=>{u.current&&(u.current.remove(),u.current=null,d.current=null)}},[T,l,j,p]);const C=(g,t,o)=>{D({lat:g,lng:t}),r&&fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${g}&lon=${t}`).then(N=>N.json()).then(N=>{const v=N.display_name||`${g.toFixed(6)}, ${t.toFixed(6)}`;r({lat:g,lng:t,accuracy:o,address:v})}).catch(()=>{r({lat:g,lng:t,accuracy:o})})},n=(g=!1)=>{if(!navigator.geolocation){g||alert("GPS tidak didukung oleh browser Anda");return}S(!0),navigator.geolocation.getCurrentPosition(t=>{const o=t.coords.latitude,N=t.coords.longitude,v=t.coords.accuracy;u.current&&d.current&&(u.current.setView([o,N],p),d.current.setLatLng([o,N])),C(o,N,v),S(!1),g||alert(`✅ Lokasi berhasil dideteksi!
📍 ${o.toFixed(6)}, ${N.toFixed(6)}
📏 Akurasi: ${Math.round(v)} meter`)},t=>{if(S(!1),!g){let o="❌ Gagal mendeteksi lokasi GPS";switch(t.code){case 1:o="🚫 Akses lokasi ditolak oleh pengguna";break;case 2:o="📡 Sinyal GPS tidak tersedia";break;case 3:o="⏱️ Waktu deteksi GPS habis";break}alert(o)}},{enableHighAccuracy:!0,timeout:g?8e3:15e3,maximumAge:3e5})};return e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"relative border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800",children:[T&&e.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-900/80 flex items-center justify-center z-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-6 h-6 animate-spin text-blue-600"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Loading map..."})]})}),e.jsx("div",{ref:x,id:L,style:{height:s,width:"100%",minHeight:"300px"},className:"z-0"}),e.jsx(f,{onClick:()=>n(),disabled:w,className:"absolute top-2 left-2 z-[1000] bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-300 dark:border-gray-600 shadow-md",size:"sm",children:w?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"w-4 h-4 mr-2 animate-spin"}),"Mencari..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Deteksi GPS"]})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:"Koordinat:"})]}),e.jsxs("span",{className:"font-mono font-medium text-gray-900 dark:text-gray-100",children:[b.lat.toFixed(6),", ",b.lng.toFixed(6)]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsx("p",{className:"font-medium mb-1",children:"📍 Cara Menggunakan:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-0.5 text-xs",children:[e.jsx("li",{children:"Klik pada peta untuk memilih lokasi"}),e.jsx("li",{children:"Seret marker untuk mengubah posisi"}),e.jsx("li",{children:'Gunakan tombol "Deteksi GPS" untuk lokasi saat ini'}),e.jsx("li",{children:"Scroll untuk zoom in/out"})]})]})})]})}function Ye(){const[r,s]=i.useState(new Date),[l,j]=i.useState(!1),[p,u]=i.useState(null),[d,x]=i.useState("00:00:00"),[T,k]=i.useState(!1),[w,S]=i.useState(null),[b,D]=i.useState(null),[L,C]=i.useState(!0);i.useEffect(()=>{const h=setInterval(()=>{if(s(new Date),l&&p){const E=new Date,[J,M]=p.split(":");E.setHours(parseInt(J),parseInt(M),0);const y=new Date().getTime()-E.getTime(),I=Math.floor(y/(1e3*60*60)),B=Math.floor(y%(1e3*60*60)/(1e3*60)),X=Math.floor(y%(1e3*60)/1e3);x(`${I.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}:${X.toString().padStart(2,"0")}`)}},1e3);return()=>clearInterval(h)},[l,p]);const n=()=>{if(L&&!w){alert("Mohon pilih lokasi presensi terlebih dahulu menggunakan peta di bawah"),k(!0);return}const h=new Date;j(!0),u(h.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})),w&&alert(`Check-in berhasil!
Lokasi: ${w.address||"Koordinat: "+w.lat+", "+w.lng}${w.accuracy?`
Akurasi GPS: `+Math.round(w.accuracy)+" meter":""}`)},g=()=>{if(L&&!b){alert("Mohon pilih lokasi check-out terlebih dahulu menggunakan peta di bawah"),k(!0);return}j(!1),u(null),x("00:00:00"),b&&alert(`Check-out berhasil!
Lokasi: ${b.address||"Koordinat: "+b.lat+", "+b.lng}${b.accuracy?`
Akurasi GPS: `+Math.round(b.accuracy)+" meter":""}`),S(null),D(null)},t=h=>{try{l?D(h):S(h)}catch{}},o=()=>r.toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),N={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},v={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return e.jsxs(a.div,{variants:N,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(a.div,{variants:v,children:e.jsx(c,{className:"bg-gradient-to-r from-purple-500 to-purple-600 dark:from-purple-600 dark:to-purple-700 border-0 shadow-xl card-enhanced",children:e.jsx(m,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(pe,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Presensi"}),e.jsx("p",{className:"text-purple-100 dark:text-purple-200 text-sm font-medium",children:"Check In & Check Out"})]})]})})})})}),e.jsx(a.div,{variants:v,children:e.jsx(c,{className:"shadow-xl border-0 bg-gradient-to-br from-white to-blue-50/50 dark:from-gray-900 dark:to-purple-950/30 backdrop-blur-sm card-enhanced",children:e.jsxs(m,{className:"p-8 space-y-6",children:[e.jsxs(a.div,{className:"text-center",animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0},children:[e.jsx("div",{className:"text-5xl bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent font-bold",children:r.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),e.jsx("div",{className:"text-base text-muted-foreground font-medium mt-2",children:o()})]}),e.jsxs(a.div,{className:"flex items-center justify-center gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(F,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-lg font-semibold text-high-contrast",children:"KLINIK DOKTERKU"})]}),l&&e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center p-4 bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-800/30 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(U,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-green-700 dark:text-green-300 font-medium",children:"Jam Kerja Hari Ini"})]}),e.jsx("div",{className:"text-2xl text-green-800 dark:text-green-200 font-mono font-bold",children:d})]}),e.jsx(ie,{mode:"wait",children:l?e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"space-y-4",children:[e.jsxs(a.div,{className:"flex items-center justify-center gap-2 p-4 bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-800/30 rounded-xl",animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0},children:[e.jsx(z,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),e.jsxs("span",{className:"text-green-700 dark:text-green-300 font-medium",children:["Check-in pada ",p]})]}),e.jsx(a.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(f,{onClick:g,className:"w-full bg-gradient-to-r from-red-500 to-red-600 dark:from-red-600 dark:to-red-700 hover:from-red-600 hover:to-red-700 dark:hover:from-red-700 dark:hover:to-red-800 text-white shadow-lg h-14 text-lg font-semibold transition-all duration-300",children:[e.jsx(Q,{className:"w-6 h-6 mr-3"}),"Check Out"]})})]},"checked-in"):e.jsx(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(f,{onClick:n,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 hover:from-blue-600 hover:to-blue-700 dark:hover:from-blue-700 dark:hover:to-blue-800 text-white shadow-lg h-14 text-lg font-semibold transition-all duration-300",children:[e.jsx(z,{className:"w-6 h-6 mr-3"}),"Check In"]})},"not-checked-in")})]})})}),e.jsx(a.div,{variants:v,children:e.jsxs(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(H,{children:e.jsxs(K,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Status Hari Ini"]})}),e.jsx(m,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/30 rounded-xl border border-blue-200 dark:border-blue-700",children:[e.jsx(P,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:l&&p||"--:--"}),e.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:"Check In"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/30 rounded-xl border border-orange-200 dark:border-orange-700",children:[e.jsx(P,{className:"w-6 h-6 text-orange-600 dark:text-orange-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-orange-700 dark:text-orange-300",children:!l&&p?r.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"--:--"}),e.jsx("div",{className:"text-xs font-medium text-orange-600 dark:text-orange-400",children:"Check Out"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/30 rounded-xl border border-green-200 dark:border-green-700",children:[e.jsx(U,{className:"w-6 h-6 text-green-600 dark:text-green-400 mx-auto mb-2"}),e.jsxs("div",{className:"text-lg font-bold text-green-700 dark:text-green-300",children:[d.split(":")[0],"h"]}),e.jsx("div",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Total Jam"})]})]})})]})}),e.jsx(a.div,{variants:v,children:e.jsxs(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(H,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(K,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(De,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Lokasi Presensi"]}),e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>k(!T),className:"text-blue-600 border-blue-200 hover:bg-blue-50 dark:text-blue-400 dark:border-blue-700 dark:hover:bg-blue-950/50",children:[T?"Sembunyikan":"Tampilkan"," Peta"]})]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:l?"Lokasi Check-out":"Lokasi Check-in"})]}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:!l&&w||l&&b?"✓ Tersimpan":"Belum dipilih"})]}),(w&&!l||b&&l)&&e.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-950/30 rounded-lg",children:e.jsxs("div",{className:"text-xs text-green-700 dark:text-green-300 space-y-1",children:[!l&&w&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Check-in:"})," ",w.address||`${w.lat.toFixed(6)}, ${w.lng.toFixed(6)}`]}),w.accuracy&&e.jsxs("p",{children:[e.jsx("strong",{children:"Akurasi:"})," ",Math.round(w.accuracy)," meter"]})]}),l&&b&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Check-out:"})," ",b.address||`${b.lat.toFixed(6)}, ${b.lng.toFixed(6)}`]}),b.accuracy&&e.jsxs("p",{children:[e.jsx("strong",{children:"Akurasi:"})," ",Math.round(b.accuracy)," meter"]})]})]})})]}),e.jsx(ie,{children:T&&e.jsx(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:e.jsx(Ve,{onLocationSelect:t,height:"400px"})})})]})]})}),e.jsx(a.div,{variants:v,children:e.jsxs(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(H,{children:e.jsx(K,{className:"text-high-contrast",children:"Aksi Cepat"})}),e.jsxs(m,{className:"space-y-3",children:[e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(f,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-200 dark:hover:border-blue-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(A,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),"Lihat Riwayat Presensi"]})}),e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(f,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-green-50 dark:hover:bg-green-950/50 hover:border-green-200 dark:hover:border-green-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:e.jsx(U,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),"Laporan Jam Kerja"]})})]})]})})]})}function Ze(){const r=[{id:"1",tanggal:"2025-01-17",hari:"Kamis",masuk:"07:00",keluar:"15:00",totalJam:"8 jam",status:"present",shift:"Pagi",lokasi:"Unit Kerja"},{id:"2",tanggal:"2025-01-16",hari:"Rabu",masuk:"07:15",keluar:"15:05",totalJam:"7 jam 50 menit",status:"late",shift:"Pagi",lokasi:"Dokter Jaga"},{id:"3",tanggal:"2025-01-15",hari:"Selasa",masuk:"15:00",keluar:"23:00",totalJam:"8 jam",status:"present",shift:"Siang",lokasi:"Pelayanan"},{id:"4",tanggal:"2025-01-14",hari:"Senin",masuk:"-",keluar:"-",totalJam:"0 jam",status:"absent",shift:"Pagi",lokasi:"Pendaftaran"}],s={totalHadir:18,totalTerlambat:3,totalTidakHadir:2,totalJamKerja:144,rataRataJamPerHari:8,tingkatKehadiran:78},l=x=>{switch(x){case"present":return"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700";case"late":return"bg-gradient-to-r from-yellow-100 to-yellow-200 dark:from-yellow-900/50 dark:to-yellow-800/50 text-yellow-800 dark:text-yellow-300 border-yellow-200 dark:border-yellow-700";case"absent":return"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/50 dark:to-red-800/50 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}},j=x=>{switch(x){case"present":return e.jsx(z,{className:"w-4 h-4"});case"late":return e.jsx(le,{className:"w-4 h-4"});case"absent":return e.jsx(Q,{className:"w-4 h-4"});default:return e.jsx(P,{className:"w-4 h-4"})}},p=x=>new Date(x).toLocaleDateString("id-ID",{day:"numeric",month:"short"}),u={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},d={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return e.jsxs(a.div,{variants:u,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(a.div,{variants:d,children:e.jsx(c,{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 dark:from-indigo-600 dark:to-indigo-700 border-0 shadow-xl card-enhanced",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Ie,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Laporan Presensi"}),e.jsx("p",{className:"text-indigo-100 dark:text-indigo-200 text-sm font-medium text-mobile-friendly",children:"Riwayat & analisis kehadiran"})]})]}),e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(f,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 dark:hover:bg-white/25 gap-2 backdrop-blur-sm border border-white/30 dark:border-white/40 font-medium transition-colors duration-300",children:[e.jsx(Pe,{className:"w-4 h-4"}),"Unduh"]})})]})})})}),e.jsx(a.div,{variants:d,children:e.jsxs(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(H,{children:e.jsxs(K,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(Oe,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Ringkasan Bulan Ini"]})}),e.jsxs(m,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs(a.div,{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/30 rounded-xl border border-green-200 dark:border-green-700",whileHover:{scale:1.05},transition:{duration:.2},children:[e.jsx(z,{className:"w-6 h-6 text-green-600 dark:text-green-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:s.totalHadir}),e.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Hadir"})]}),e.jsxs(a.div,{className:"text-center p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-950/50 dark:to-yellow-900/30 rounded-xl border border-yellow-200 dark:border-yellow-700",whileHover:{scale:1.05},transition:{duration:.2},children:[e.jsx(le,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:s.totalTerlambat}),e.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Terlambat"})]}),e.jsxs(a.div,{className:"text-center p-4 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/30 rounded-xl border border-red-200 dark:border-red-700",whileHover:{scale:1.05},transition:{duration:.2},children:[e.jsx(Q,{className:"w-6 h-6 text-red-600 dark:text-red-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:s.totalTidakHadir}),e.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Tidak Hadir"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-high-contrast",children:"Tingkat Kehadiran"}),e.jsxs("span",{className:"text-lg font-bold text-high-contrast",children:[s.tingkatKehadiran,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:e.jsx(a.div,{className:"bg-gradient-to-r from-green-500 to-green-600 dark:from-green-400 dark:to-green-500 h-3 rounded-full",initial:{width:0},animate:{width:`${s.tingkatKehadiran}%`},transition:{duration:1.5,delay:.5}})})]})]})]})}),e.jsxs(a.div,{variants:d,className:"grid grid-cols-2 gap-4",children:[e.jsx(c,{className:"bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 border-0 shadow-lg card-enhanced",children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(P,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-100 dark:text-blue-200 font-medium",children:"Total Jam"}),e.jsxs("p",{className:"text-xl font-semibold",children:[s.totalJamKerja,"h"]})]})]})})}),e.jsx(c,{className:"bg-gradient-to-br from-purple-500 to-purple-600 dark:from-purple-600 dark:to-purple-700 border-0 shadow-lg card-enhanced",children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(U,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-100 dark:text-purple-200 font-medium",children:"Rata-rata/Hari"}),e.jsxs("p",{className:"text-xl font-semibold",children:[s.rataRataJamPerHari,"h"]})]})]})})})]}),e.jsx(a.div,{variants:d,children:e.jsxs(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(H,{children:e.jsxs(K,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Riwayat Presensi"]})}),e.jsx(m,{children:e.jsx(a.div,{variants:u,className:"space-y-3",children:r.map((x,T)=>e.jsx(a.div,{variants:d,whileHover:{scale:1.01,y:-1},transition:{duration:.2},children:e.jsx(c,{className:"border border-gray-100 dark:border-gray-700 hover:shadow-md transition-all duration-300 bg-white dark:bg-gray-800/50",children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-base font-semibold text-high-contrast",children:x.hari}),e.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:p(x.tanggal)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground font-medium",children:[e.jsx("span",{children:x.shift}),e.jsx("span",{children:"•"}),e.jsx("span",{children:x.lokasi})]})]}),e.jsxs(_,{className:`${l(x.status)} border flex items-center gap-1 font-medium`,children:[j(x.status),x.status==="present"&&"Hadir",x.status==="late"&&"Terlambat",x.status==="absent"&&"Tidak Hadir"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(P,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Masuk"}),e.jsx("p",{className:"font-semibold text-high-contrast",children:x.masuk})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-orange-100 dark:bg-orange-900/50 rounded-full flex items-center justify-center",children:e.jsx(P,{className:"w-3 h-3 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Keluar"}),e.jsx("p",{className:"font-semibold text-high-contrast",children:x.keluar})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:e.jsx(U,{className:"w-3 h-3 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Total"}),e.jsx("p",{className:"font-semibold text-high-contrast",children:x.totalJam})]})]})]})]})})},x.id))})})]})})]})}function Qe({userData:r}){const s={nama:(r==null?void 0:r.name)||"Dokter",email:(r==null?void 0:r.email)||"dokter@klinikdokterku.com",telefon:"+62 812-3456-7890",spesialisasi:(r==null?void 0:r.jabatan)||"Dokter Umum",rumahSakit:"KLINIK DOKTERKU",nomorSip:"SIP.123.456.789",tanggalBergabung:"2020-01-15",status:"Aktif"},l={totalJam:2040,totalJaspel:245e5,ratingKinerja:4.8,pengalamanTahun:5},j=x=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(x),p=x=>new Date(x).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),u={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},d={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return e.jsxs(a.div,{variants:u,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(a.div,{variants:d,children:e.jsx(c,{className:"bg-gradient-to-r from-teal-500 to-teal-600 dark:from-teal-600 dark:to-teal-700 border-0 shadow-xl card-enhanced",children:e.jsx(m,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(ee,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Profil"}),e.jsx("p",{className:"text-teal-100 dark:text-teal-200 text-sm font-medium text-mobile-friendly",children:"Kelola informasi pribadi"})]})]})})})})}),e.jsx(a.div,{variants:d,children:e.jsx(c,{className:"shadow-xl border-0 bg-gradient-to-br from-white to-blue-50/50 dark:from-gray-900 dark:to-blue-950/30 backdrop-blur-sm card-enhanced",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(a.div,{className:"relative",whileHover:{scale:1.05},transition:{duration:.2},children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 text-white rounded-full flex items-center justify-center shadow-lg",children:e.jsx(ee,{className:"w-10 h-10"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 dark:bg-green-400 border-2 border-white dark:border-gray-900 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-high-contrast text-subheading-mobile",children:s.nama}),e.jsx("p",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:s.spesialisasi}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(_,{className:"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700",children:s.status}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ze,{className:"w-4 h-4 text-yellow-500 dark:text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm text-medium-contrast font-medium",children:l.ratingKinerja})]})]})]}),e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(f,{variant:"outline",size:"sm",className:"gap-2 border-blue-200 dark:border-blue-700 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/50 font-medium",children:[e.jsx(ke,{className:"w-4 h-4"}),"Edit"]})})]})})})}),e.jsx(a.div,{variants:d,children:e.jsxs(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(H,{children:e.jsxs(K,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(Re,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Informasi Personal"]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs(a.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(Me,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:s.email})]}),e.jsxs(a.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-green-50 dark:hover:bg-green-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:e.jsx(He,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),e.jsx("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:s.telefon})]}),e.jsxs(a.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-purple-50 dark:hover:bg-purple-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/50 rounded-full flex items-center justify-center",children:e.jsx(F,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),e.jsx("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:s.rumahSakit})]}),e.jsxs(a.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-900/50 rounded-full flex items-center justify-center",children:e.jsx(Je,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),e.jsxs("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:["SIP: ",s.nomorSip]})]}),e.jsxs(a.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-teal-50 dark:hover:bg-teal-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 dark:bg-teal-900/50 rounded-full flex items-center justify-center",children:e.jsx(A,{className:"w-4 h-4 text-teal-600 dark:text-teal-400"})}),e.jsxs("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:["Bergabung: ",p(s.tanggalBergabung)]})]})]})]})}),e.jsx(a.div,{variants:d,children:e.jsxs(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(H,{children:e.jsxs(K,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(G,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),"Statistik Karir"]})}),e.jsx(m,{children:e.jsxs(a.div,{variants:u,className:"grid grid-cols-2 gap-4",children:[e.jsxs(a.div,{variants:d,className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/30 rounded-xl border border-blue-200 dark:border-blue-700",whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:[e.jsx(P,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300 text-heading-mobile",children:l.totalJam.toLocaleString()}),e.jsx("div",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Total Jam Kerja"})]}),e.jsxs(a.div,{variants:d,className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/30 rounded-xl border border-green-200 dark:border-green-700",whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:[e.jsx(G,{className:"w-6 h-6 text-green-600 dark:text-green-400 mx-auto mb-2"}),e.jsxs("div",{className:"text-lg font-bold text-green-700 dark:text-green-300 text-heading-mobile",children:[l.ratingKinerja,"/5"]}),e.jsx("div",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Rating Kinerja"})]}),e.jsxs(a.div,{variants:d,className:"text-center p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-950/50 dark:to-yellow-900/30 rounded-xl border border-yellow-200 dark:border-yellow-700",whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:[e.jsx(A,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-yellow-700 dark:text-yellow-300 text-heading-mobile",children:l.pengalamanTahun}),e.jsx("div",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Tahun Pengalaman"})]}),e.jsxs(a.div,{variants:d,className:"text-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/30 rounded-xl border border-purple-200 dark:border-purple-700",whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:[e.jsx("span",{className:"text-2xl",children:"💰"}),e.jsx("div",{className:"text-sm font-bold text-purple-700 dark:text-purple-300 text-mobile-friendly",children:j(l.totalJaspel)}),e.jsx("div",{className:"text-xs text-medium-contrast font-medium",children:"Total Jaspel"})]})]})})]})}),e.jsx(a.div,{variants:d,children:e.jsxs(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(H,{children:e.jsx(K,{className:"text-high-contrast",children:"Pengaturan"})}),e.jsxs(m,{className:"space-y-3",children:[e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(f,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-200 dark:hover:border-blue-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx($e,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-high-contrast",children:"Pengaturan Akun"})]})}),e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(f,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-orange-50 dark:hover:bg-orange-950/50 hover:border-orange-200 dark:hover:border-orange-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-900/50 rounded-full flex items-center justify-center",children:e.jsx(Ne,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),e.jsx("span",{className:"text-high-contrast",children:"Notifikasi"})]})}),e.jsx(_e,{className:"my-4 bg-gray-200 dark:bg-gray-700"}),e.jsx(a.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(f,{variant:"outline",className:"w-full justify-start gap-3 h-12 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/50 hover:border-red-200 dark:hover:border-red-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center",children:e.jsx(ye,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}),e.jsx("span",{children:"Keluar"})]})})]})]})})]})}const ve=i.createContext(void 0);function ea(){const r=i.useContext(ve);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r}function aa({children:r}){const[s,l]=i.useState(()=>{if(typeof window<"u"){const u=window.__DOKTERKU_THEME__;if(u&&(u==="light"||u==="dark"))return u;try{const d=localStorage.getItem("theme");if(d&&(d==="light"||d==="dark"))return d}catch{}try{if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}catch{}}return"light"});i.useEffect(()=>{const u=()=>{try{if(typeof window>"u"||typeof document>"u")return;const d=document.documentElement;d&&d.classList&&(s==="dark"?d.classList.add("dark"):d.classList.remove("dark"));try{localStorage.setItem("theme",s)}catch{}}catch{}};return document.readyState==="loading"?document.addEventListener("DOMContentLoaded",u,{once:!0}):u(),()=>{document.removeEventListener("DOMContentLoaded",u)}},[s]);const j=u=>{l(u)},p=()=>{l(s==="light"?"dark":"light")};return e.jsx(ve.Provider,{value:{theme:s,toggleTheme:p,setTheme:j},children:r})}function ta(){var v;const[r,s]=i.useState(!1),[l,j]=i.useState("dashboard"),[p,u]=i.useState(!1),[d,x]=i.useState(""),[T,k]=i.useState(""),[w,S]=i.useState(!1),[b,D]=i.useState(null),{theme:L,toggleTheme:C}=ea();i.useEffect(()=>{const h=document.querySelector('meta[name="user-data"]');if(h)try{const E=JSON.parse(h.getAttribute("content")||"{}");D(E),E.name&&s(!0)}catch(E){console.error("Error parsing user data:",E)}},[]);const n=async h=>{var J;h.preventDefault(),S(!0);const E=((J=document.querySelector('meta[name="csrf-token"]'))==null?void 0:J.getAttribute("content"))||"";try{if((await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":E},body:JSON.stringify({email:d,password:T})})).ok)window.location.href="/dokter/mobile-app";else throw new Error("Login failed")}catch(M){console.error("Login error:",M),s(!0)}finally{S(!1)}},g=()=>{s(!1),j("dashboard"),window.location.href="/login"},t=[{id:"dashboard",label:"Dashboard",icon:Ge},{id:"jadwal",label:"Jadwal",icon:A},{id:"jaspel",label:"Jaspel",icon:be},{id:"presensi",label:"Presensi",icon:P},{id:"laporan",label:"Laporan",icon:Xe},{id:"profil",label:"Profil",icon:ee}],o=()=>{switch(l){case"dashboard":return e.jsx(ge,{userData:b,onNavigate:j});case"jadwal":return e.jsx(qe,{});case"jaspel":return e.jsx(We,{});case"presensi":return e.jsx(Ye,{});case"laporan":return e.jsx(Ze,{});case"profil":return e.jsx(Qe,{userData:b});default:return e.jsx(ge,{userData:b,onNavigate:j})}};return((v=document.querySelector('meta[name="user-authenticated"]'))==null?void 0:v.getAttribute("content"))==="true"||r?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-950 transition-colors duration-300",children:[e.jsx("div",{className:"bg-white dark:bg-gray-900 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors duration-300",children:e.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 dark:from-blue-500 dark:to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(de,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:"Dokterku"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Healthcare Worker"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{variant:"ghost",size:"sm",onClick:C,className:"hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300",children:L==="dark"?e.jsx(oe,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}):e.jsx(ce,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),e.jsxs(f,{variant:"ghost",size:"sm",className:"relative hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300",children:[e.jsx(Ne,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:"3"})]}),e.jsx(f,{variant:"ghost",size:"sm",onClick:g,className:"hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300",children:e.jsx(ye,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]})]})})}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"px-4 py-6 pb-28 min-h-[calc(100vh-120px)] theme-transition",children:[e.jsx("div",{className:"space-y-6",children:o()}),e.jsx("div",{className:"h-8 safe-area-pb"})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-t border-gray-200 dark:border-gray-700 safe-area-pb shadow-lg transition-all duration-300 card-enhanced",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsx("div",{className:"flex items-center justify-around py-2",children:t.map(h=>e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2},children:e.jsxs(f,{variant:"ghost",size:"sm",onClick:()=>j(h.id),className:`flex flex-col items-center space-y-1 px-2 py-3 min-w-0 rounded-xl transition-all duration-300 ${l===h.id?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950/50 shadow-sm scale-105":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800/50"}`,children:[e.jsx(h.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium truncate text-mobile-friendly",children:h.label})]})},h.id))})})})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-blue-800 dark:from-gray-900 dark:via-gray-800 dark:to-blue-950 flex items-center justify-center p-4 transition-colors duration-300",children:e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:e.jsxs(c,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm shadow-2xl border-0 transition-colors duration-300",children:[e.jsxs(H,{className:"text-center pb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 dark:from-blue-500 dark:to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(de,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Dokterku"}),e.jsx(f,{variant:"ghost",size:"sm",onClick:C,className:"hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300",children:L==="dark"?e.jsx(oe,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}):e.jsx(ce,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Healthcare Worker Portal"})]}),e.jsx(m,{className:"space-y-6",children:e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Email"}),e.jsx(xe,{id:"email",type:"email",placeholder:"Enter your email",value:d,onChange:h=>x(h.target.value),required:!0,className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 transition-colors duration-300"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"password",className:"text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(xe,{id:"password",type:p?"text":"password",placeholder:"Enter your password",value:T,onChange:h=>k(h.target.value),required:!0,className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 transition-colors duration-300"}),e.jsx(f,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-300",onClick:()=>u(!p),children:p?e.jsx(Ke,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"}):e.jsx(we,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})]})]}),e.jsx(f,{type:"submit",className:"w-full",disabled:w,children:w?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Signing in..."})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"Sign In"}),e.jsx(fe,{className:"w-4 h-4"})]})})]})})]})})})}function ra(){return e.jsx(aa,{children:e.jsx(ta,{})})}function Te(){console.log("🚀 ULTRAFIX: Starting dokter mobile app initialization...");try{if(console.log("ULTRAFIX: document defined?",typeof document<"u"),console.log("ULTRAFIX: document.getElementById available?",typeof document.getElementById=="function"),console.log("ULTRAFIX: document.body exists?",document.body!==null),console.log("ULTRAFIX: document.body.classList available?",document.body&&document.body.classList),typeof document>"u"||!document.getElementById){console.error("ULTRAFIX: Document not ready for initialization");return}const r=document.getElementById("dokter-app"),s=document.getElementById("loading");if(console.log("ULTRAFIX: Container found?",!!r),console.log("ULTRAFIX: Loading element found?",!!s),r){try{s&&s.style&&(s.style.display="none",console.log("ULTRAFIX: Loading element hidden successfully"))}catch(l){console.log("ULTRAFIX: Loading element error (safe to ignore):",l)}try{console.log("ULTRAFIX: Creating React root..."),Se.createRoot(r).render(e.jsx(ra,{})),console.log("ULTRAFIX: React app rendered successfully! 🎉")}catch(l){console.error("ULTRAFIX: React initialization failed:",l),r&&(r.innerHTML='<div style="padding: 20px; text-align: center; background: #f0f0f0; color: #333;">⚠️ App loading failed. Please refresh and try again.</div>')}}else console.error("ULTRAFIX: Container element #dokter-app not found!")}catch(r){console.error("ULTRAFIX: App initialization completely failed:",r),console.error("ULTRAFIX: Error stack:",r.stack)}}function sa(){if(console.log("🎯 ULTIMATE+: Starting completely isolated initialization with Alpine.js protection..."),typeof window<"u"&&window.location&&!window.location.pathname.includes("/dokter/mobile-app")){console.log("ULTIMATE+: Not dokter mobile app page, skipping initialization");return}if(typeof window<"u"){if(window.__DOKTERKU_ISOLATED__=!0,window.Alpine&&typeof window.Alpine=="object"&&(console.log("🛡️ ULTIMATE+: Detected Alpine.js, implementing protection..."),window.Alpine.start&&typeof window.Alpine.start=="function")){const s=window.Alpine.start;window.Alpine.start=function(){if(window.__DOKTERKU_ISOLATED__){console.log("🛡️ ULTIMATE+: Blocked Alpine.js start on isolated page");return}return s.apply(this,arguments)}}if(document.body){document.body.classList;let s=!1;Object.defineProperty(document.body,"classList",{get:function(){return s||(s=!0,console.warn("🚨 ULTIMATE+: External script attempted to access document.body.classList - redirecting to documentElement")),document.documentElement.classList},configurable:!0})}}if(typeof document>"u"){console.error("ULTIMATE+: Document not available");return}const r=(s=1)=>{console.log(`ULTIMATE: Initialization attempt ${s}`);try{if(document.readyState==="complete"||document.readyState==="interactive"&&document.body){Te();return}s<5?setTimeout(()=>r(s+1),100*s):console.error("ULTIMATE: All initialization attempts failed")}catch(l){console.error(`ULTIMATE: Attempt ${s} failed:`,l),s<5&&setTimeout(()=>r(s+1),200*s)}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{console.log("ULTIMATE: DOM loaded, starting initialization"),r()},{once:!0}):r()}try{console.log("🚀 ULTIMATE+: Launching dokter mobile app with complete isolation and Alpine.js protection..."),sa()}catch(r){console.error("🔥 ULTIMATE+: Launch failed completely:",r),console.error("ULTIMATE+: Error stack:",r.stack),setTimeout(()=>{try{console.log("🆘 ULTIMATE+: Attempting emergency initialization with Alpine.js protection..."),typeof window<"u"&&document.body&&(window.__DOKTERKU_ISOLATED__=!0,Object.defineProperty(document.body,"classList",{get:function(){return console.warn("🚨 EMERGENCY: Redirecting document.body.classList to documentElement"),document.documentElement.classList},configurable:!0})),Te()}catch(s){console.error("🆘 ULTIMATE+: Emergency initialization also failed:",s)}},2e3)}
